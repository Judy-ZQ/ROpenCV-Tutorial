<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>2 R基础 | ROpenCV — R与OpenCV之间的桥梁</title>
<meta name="author" content="zpy">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="2 R基础 | ROpenCV — R与OpenCV之间的桥梁">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2 R基础 | ROpenCV — R与OpenCV之间的桥梁">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141212623-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141212623-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="2.1 R的安装 步骤1 官网（https://www.r-project.org/）下载R的安装包，根据自己的系统下载相应程序。R版本更新较快。尽量下载最新版本。 步骤2 双击运行安装程序。选择需要使用的语言。 步骤3 进入安装向导，点击下一步。 步骤4 选择安装位置。 步骤5 选择组件，可以根据自己的计算机选择相应的选项，也可以全部选择。 步骤6 启动选项，可以选择接受默认选项。...">
<meta property="og:description" content="2.1 R的安装 步骤1 官网（https://www.r-project.org/）下载R的安装包，根据自己的系统下载相应程序。R版本更新较快。尽量下载最新版本。 步骤2 双击运行安装程序。选择需要使用的语言。 步骤3 进入安装向导，点击下一步。 步骤4 选择安装位置。 步骤5 选择组件，可以根据自己的计算机选择相应的选项，也可以全部选择。 步骤6 启动选项，可以选择接受默认选项。...">
<meta name="twitter:description" content="2.1 R的安装 步骤1 官网（https://www.r-project.org/）下载R的安装包，根据自己的系统下载相应程序。R版本更新较快。尽量下载最新版本。 步骤2 双击运行安装程序。选择需要使用的语言。 步骤3 进入安装向导，点击下一步。 步骤4 选择安装位置。 步骤5 选择组件，可以根据自己的计算机选择相应的选项，也可以全部选择。 步骤6 启动选项，可以选择接受默认选项。...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">ROpenCV — R与OpenCV之间的桥梁</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">前言</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> 简介</a></li>
<li><a class="active" href="RBasis.html"><span class="header-section-number">2</span> R基础</a></li>
<li><a class="" href="imagebasis.html"><span class="header-section-number">3</span> OpenCV中的图像矩阵类（Mat）</a></li>
<li><a class="" href="%E5%9B%BE%E5%83%8F%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.html"><span class="header-section-number">4</span> 图像基本操作</a></li>
<li><a class="" href="%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97.html"><span class="header-section-number">5</span> 核心功能（核心模块）</a></li>
<li><a class="" href="%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86imgproc%E6%A8%A1%E5%9D%97-part1.html"><span class="header-section-number">6</span> 图像处理（imgproc模块-PART1）</a></li>
<li><a class="" href="%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86imgproc%E6%A8%A1%E5%9D%97-part2.html"><span class="header-section-number">7</span> 图像处理（imgproc模块-PART2）</a></li>
<li><a class="" href="%E6%91%84%E5%83%8F%E6%9C%BA%E6%A0%87%E5%AE%9A%E5%92%8C%E4%B8%89%E7%BB%B4%E9%87%8D%E5%BB%BAcalib3d%E6%A8%A1%E5%9D%97.html"><span class="header-section-number">8</span> 摄像机标定和三维重建（calib3d模块）</a></li>
<li><a class="" href="d%E7%89%B9%E5%BE%81%E6%A1%86%E6%9E%B6feature2d%E6%A8%A1%E5%9D%97.html"><span class="header-section-number">9</span> 2D特征框架（feature2d模块）</a></li>
<li><a class="" href="%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86%E8%A7%86%E9%A2%91io%E4%BB%A5%E5%8F%8Avideo%E6%A8%A1%E5%9D%97.html"><span class="header-section-number">10</span> 视频处理（视频IO以及Video模块）</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/Judy-ZQ/ROpenCV-Tutorial">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="RBasis" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> R基础<a class="anchor" aria-label="anchor" href="#RBasis"><i class="fas fa-link"></i></a>
</h1>
<div id="r的安装" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> R的安装<a class="anchor" aria-label="anchor" href="#r%E7%9A%84%E5%AE%89%E8%A3%85"><i class="fas fa-link"></i></a>
</h2>
<p>步骤1 官网（<a href="https://www.r-project.org/%EF%BC%89%E4%B8%8B%E8%BD%BDR%E7%9A%84%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E6%A0%B9%E6%8D%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E8%BD%BD%E7%9B%B8%E5%BA%94%E7%A8%8B%E5%BA%8F%E3%80%82R%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E8%BE%83%E5%BF%AB%E3%80%82%E5%B0%BD%E9%87%8F%E4%B8%8B%E8%BD%BD%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC" class="uri">https://www.r-project.org/）下载R的安装包，根据自己的系统下载相应程序。R版本更新较快。尽量下载最新版本</a>。</p>
<p>步骤2 双击运行安装程序。选择需要使用的语言。</p>
<div class="inline-figure"><img src="images/tutorial/install_language.png"></div>
<p>步骤3 进入安装向导，点击下一步。</p>
<div class="inline-figure"><img src="images/tutorial/install_next.png"></div>
<p>步骤4 选择安装位置。</p>
<div class="inline-figure"><img src="images/tutorial/install_location.png"></div>
<p>步骤5 选择组件，可以根据自己的计算机选择相应的选项，也可以全部选择。</p>
<div class="inline-figure"><img src="images/tutorial/install_compents.png"></div>
<p>步骤6 启动选项，可以选择接受默认选项。</p>
<div class="inline-figure"><img src="images/tutorial/install_startoption.png"></div>
<p>步骤7 选择开始菜单创建的文件夹时，可以直接点击下一步即可。</p>
<div class="inline-figure"><img src="images/tutorial/install_startmenu.png"></div>
<p>步骤8 安装完成后，在安装目录中的bin\x64目录中，双击Rgui.exe可以出现R语言的图形界面。</p>
</div>
<div id="向量操作" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> 向量操作<a class="anchor" aria-label="anchor" href="#%E5%90%91%E9%87%8F%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<div id="生成向量" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> 生成向量<a class="anchor" aria-label="anchor" href="#%E7%94%9F%E6%88%90%E5%90%91%E9%87%8F"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>直接输入方式</li>
</ul>
<p>已知一个钢材抗张力样本数据（见下表）</p>
<div class="inline-table"><table style="width:100%;" class="table table-sm">
<colgroup>
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
</colgroup>
<tbody>
<tr class="odd">
<td></td>
<td>41</td>
<td>37</td>
<td>33</td>
<td>44.2</td>
<td>30.5</td>
<td>27</td>
<td>45</td>
<td>28.5</td>
<td>31.2</td>
<td>33.5</td>
<td>38.5</td>
<td>41.5</td>
</tr>
<tr class="even">
<td></td>
<td>42</td>
<td>45.5</td>
<td>42.5</td>
<td>39</td>
<td>38.8</td>
<td>35.5</td>
<td>32.5</td>
<td>29.6</td>
<td>32.6</td>
<td>34.5</td>
<td>37.5</td>
<td>39.5</td>
</tr>
<tr class="odd">
<td></td>
<td>42.8</td>
<td>45.1</td>
<td>42.8</td>
<td>45.8</td>
<td>39.8</td>
<td>37.2</td>
<td>33.8</td>
<td>31.2</td>
<td>29</td>
<td>35.2</td>
<td>37.8</td>
<td>41.2</td>
</tr>
<tr class="even">
<td></td>
<td>43.8</td>
<td>48</td>
<td>43.6</td>
<td>41.8</td>
<td>36.6</td>
<td>34.8</td>
<td>31</td>
<td>32</td>
<td>33.5</td>
<td>37.4</td>
<td>40.8</td>
<td>44.7</td>
</tr>
<tr class="odd">
<td></td>
<td>40.2</td>
<td>41.3</td>
<td>38.8</td>
<td>34.1</td>
<td>31.8</td>
<td>34.6</td>
<td>38.3</td>
<td>41.3</td>
<td>30</td>
<td>35.2</td>
<td>37.5</td>
<td>40.5</td>
</tr>
<tr class="even">
<td></td>
<td>38.1</td>
<td>37.3</td>
<td>37.1</td>
<td>41.5</td>
<td>29.5</td>
<td>29.1</td>
<td>27.5</td>
<td>34.8</td>
<td>36.5</td>
<td>44.2</td>
<td>40</td>
<td>44.5</td>
</tr>
<tr class="odd">
<td></td>
<td>40.6</td>
<td>36.2</td>
<td>35.8</td>
<td>31.5</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
<p>在R语言中，可以将表中的钢材抗张力样本数据“抽象”为一个向量，利用<strong>c</strong>构造符来实现。</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span><span class="fl">41.0</span>, <span class="fl">37.0</span>, <span class="fl">33.0</span>, <span class="fl">44.2</span>, <span class="fl">30.5</span>, <span class="fl">27.0</span>, <span class="fl">45.0</span>, <span class="fl">28.5</span>, <span class="fl">31.2</span>, <span class="fl">33.5</span>, <span class="fl">38.5</span>, <span class="fl">41.5</span>,</span>
<span><span class="fl">42.0</span>, <span class="fl">45.5</span>, <span class="fl">42.5</span>, <span class="fl">39.0</span>, <span class="fl">38.8</span>, <span class="fl">35.5</span>, <span class="fl">32.5</span>, <span class="fl">29.6</span>, <span class="fl">32.6</span>, <span class="fl">34.5</span>, <span class="fl">37.5</span>, <span class="fl">39.5</span>,</span>
<span><span class="fl">42.8</span>, <span class="fl">45.1</span>, <span class="fl">42.8</span>, <span class="fl">45.8</span>, <span class="fl">39.8</span>, <span class="fl">37.2</span>, <span class="fl">33.8</span>, <span class="fl">31.2</span>, <span class="fl">29.0</span>, <span class="fl">35.2</span>, <span class="fl">37.8</span>, <span class="fl">41.2</span>,</span>
<span><span class="fl">43.8</span>, <span class="fl">48.0</span>, <span class="fl">43.6</span>, <span class="fl">41.8</span>, <span class="fl">36.6</span>, <span class="fl">34.8</span>, <span class="fl">31.0</span>, <span class="fl">32.0</span>, <span class="fl">33.5</span>, <span class="fl">37.4</span>, <span class="fl">40.8</span>, <span class="fl">44.7</span>,</span>
<span><span class="fl">40.2</span>, <span class="fl">41.3</span>, <span class="fl">38.8</span>, <span class="fl">34.1</span>, <span class="fl">31.8</span>, <span class="fl">34.6</span>, <span class="fl">38.3</span>, <span class="fl">41.3</span>, <span class="fl">30.0</span>, <span class="fl">35.2</span>, <span class="fl">37.5</span>, <span class="fl">40.5</span>,</span>
<span><span class="fl">38.1</span>, <span class="fl">37.3</span>, <span class="fl">37.1</span>, <span class="fl">41.5</span>, <span class="fl">29.5</span>, <span class="fl">29.1</span>, <span class="fl">27.5</span>, <span class="fl">34.8</span>, <span class="fl">36.5</span>, <span class="fl">44.2</span>, <span class="fl">40.0</span>, <span class="fl">44.5</span>,</span>
<span><span class="fl">40.6</span>, <span class="fl">36.2</span>, <span class="fl">35.8</span>, <span class="fl">31.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>如果总是手工录入数据，且待录入的数据很多时，是比较麻烦的事情。这里，可以替代的方法包括：随机模拟数据方式、冒号方式、seq方式、rep方式和文件读入方式。</p>
<ul>
<li>随机模拟方式</li>
</ul>
<p><strong>随机模拟数据 — 模拟有放回抽样操作</strong></p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#依据元素为27、28.5、31、32、34.5、37、40和48的向量，进行有放回抽样，</span></span>
<span><span class="co">#形成一个容量为76的样本，抽样结果保存在dt.sample中</span></span>
<span><span class="va">dt.sample</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">28.5</span>,<span class="fl">31</span>,<span class="fl">32</span>,<span class="fl">34.5</span>,<span class="fl">37</span>,<span class="fl">40</span>,<span class="fl">48</span><span class="op">)</span>,<span class="fl">76</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#查看抽样结果</span></span>
<span><span class="va">dt.sample</span></span></code></pre></div>
<pre><code>##  [1] 40.0 40.0 31.0 37.0 31.0 28.5 28.5 37.0 31.0 34.5 32.0 37.0 37.0 27.0 28.5
## [16] 31.0 48.0 34.5 31.0 31.0 27.0 32.0 27.0 27.0 34.5 31.0 48.0 28.5 40.0 28.5
## [31] 27.0 37.0 31.0 32.0 37.0 27.0 31.0 40.0 34.5 32.0 40.0 48.0 28.5 34.5 40.0
## [46] 27.0 27.0 28.5 40.0 31.0 32.0 34.5 40.0 34.5 31.0 48.0 37.0 27.0 28.5 34.5
## [61] 34.5 48.0 32.0 40.0 34.5 28.5 27.0 27.0 31.0 27.0 37.0 34.5 40.0 27.0 40.0
## [76] 28.5</code></pre>
<p><strong>随机模拟数据 — 模拟无放回抽样操作</strong></p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#依据元素为27、28.5、31、32、34.5、37、40和48的向量，进行无放回抽样，</span></span>
<span><span class="co">#生成一个容量为5的样本，抽样结果保存在dt.sample中</span></span>
<span><span class="va">dt.sample</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">28.5</span>,<span class="fl">31</span>,<span class="fl">32</span>,<span class="fl">34.5</span>,<span class="fl">37</span>,<span class="fl">40</span>,<span class="fl">48</span><span class="op">)</span>,<span class="fl">5</span>,replace <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="co">#查看抽样结果</span></span>
<span><span class="va">dt.sample</span></span></code></pre></div>
<pre><code>## [1] 40.0 48.0 31.0 37.0 28.5</code></pre>
<p><strong>随机模拟数据 — 模拟均匀分布数据</strong></p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个在[27,48]区间服从均匀分布的容量为76的样本，保存在dt.runif中</span></span>
<span><span class="va">dt.runif</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">76</span>,<span class="fl">27</span>,<span class="fl">48</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.runif</span></span></code></pre></div>
<pre><code>##  [1] 33.03913 43.55441 35.58852 45.54337 46.74981 27.95669 38.09022 45.74080
##  [9] 38.58014 36.58891 47.09350 36.52002 41.22898 39.02530 29.16142 45.89632
## [17] 32.16784 27.88325 33.88634 47.04458 45.68033 41.54887 40.45064 47.87967
## [25] 40.76982 41.87914 38.42539 39.47698 33.07235 30.08939 47.22351 45.94828
## [33] 41.50481 43.70482 27.51689 37.03372 42.92765 31.54457 33.68180 31.86414
## [41] 29.99880 35.70547 35.68821 34.74575 30.20134 29.91493 31.89372 36.78521
## [49] 32.58543 45.01438 27.96245 36.28620 43.77742 29.55988 38.77991 31.33716
## [57] 29.67816 42.81947 45.79595 34.86372 40.96742 28.99165 35.06336 32.76206
## [65] 44.10744 36.41884 44.01135 44.06018 43.68119 36.23647 42.84398 40.21364
## [73] 41.91383 27.01312 36.98165 31.62250</code></pre>
<p><strong>随机模拟数据 — 模拟正态分布数据</strong></p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个服从均值为32，标准差为5的正态分布样本，容量为76，保存在dt.rnorm中</span></span>
<span><span class="va">dt.rnorm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">76</span>,mean <span class="op">=</span> <span class="fl">35</span>,sd<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.rnorm</span></span></code></pre></div>
<pre><code>##  [1] 32.19762 33.84911 42.79354 35.35254 35.64644 43.57532 37.30458 28.67469
##  [9] 31.56574 32.77169 41.12041 36.79907 37.00386 35.55341 32.22079 43.93457
## [17] 37.48925 25.16691 38.50678 32.63604 29.66088 33.91013 29.86998 31.35554
## [25] 31.87480 26.56653 39.18894 35.76687 29.30932 41.26907 37.13232 33.52464
## [33] 39.47563 39.39067 39.10791 38.44320 37.76959 34.69044 33.47019 33.09764
## [41] 31.52647 33.96041 28.67302 45.84478 41.03981 29.38446 32.98558 32.66672
## [49] 38.89983 34.58315 36.26659 34.85727 34.78565 41.84301 33.87115 42.58235
## [57] 27.25624 37.92307 35.61927 36.07971 36.89820 32.48838 33.33396 29.90712
## [65] 29.64104 36.51764 37.24105 35.26502 39.61134 45.25042 32.54484 23.45416
## [73] 40.02869 31.45400 31.55996 40.12786</code></pre>
<p><strong>随机模拟数据 — 模拟卡方分布数据</strong></p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个服从自由度为6的卡方分布样本，容量为76，保存在dt.chisq中</span></span>
<span><span class="va">dt.chisq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html">rchisq</a></span><span class="op">(</span><span class="fl">76</span>,df<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.chisq</span></span></code></pre></div>
<pre><code>##  [1]  3.384687  9.472060  1.084455  5.417201 11.894236  6.563767  1.799715
##  [8]  1.029623  9.620075  6.202564  6.347659  5.356135  3.396756  9.932607
## [15]  7.951344  4.825456  3.616668  4.340673  2.281832  4.733516  1.088675
## [22]  1.993471  2.048573  4.039111  4.110436  4.599141  7.935565  7.414784
## [29]  6.905054  4.806135  5.947201  1.885227  4.364123  4.495041  9.549497
## [36]  2.079105  6.357854  2.589726  4.739839  3.726854  4.865351  5.910957
## [43]  2.233023  1.301731  2.188670  5.706183  6.272589  3.537678 14.109718
## [50]  1.670653  6.005907  6.517810  5.169019  8.341754 13.584361  3.567779
## [57]  2.557159  3.008793  7.150103  4.980419  1.884828  2.831123  5.018245
## [64]  6.292584  3.896564  2.865149  6.104226  9.070037  6.470856  4.022430
## [71]  5.673903  3.573413  5.783432  3.211520  9.921657  3.641548</code></pre>
<p><strong>随机模拟数据 — 模拟T分布数据</strong></p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个服从自由度为6的卡方分布样本，容量为76，保存在dt.t中</span></span>
<span><span class="va">dt.t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">rt</a></span><span class="op">(</span><span class="fl">76</span>,df<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.t</span></span></code></pre></div>
<pre><code>##  [1] -0.62468443 -1.37828063 -0.11812450 -1.59107520  1.59250160  2.35970042
##  [7]  0.33356443  0.97822144 -0.99963708 -0.30305368 -0.07190032 -0.21130955
## [13] -0.92603370  0.48313427 -0.11282895 -0.14807510 -4.15835630 -0.47958000
## [19]  0.87736073  1.73172454  0.53783821 -0.08292731 -0.03039808  0.38651970
## [25] -1.43481832  0.12423075  0.45391855  3.30597749  0.28937639  0.04589474
## [31]  2.44381975 -1.14849084 -0.58404408 -0.42143483 -1.01063411  0.44499869
## [37] -0.95022815  1.04861044 -0.27035599  0.92737412  0.29535800  1.52930378
## [43]  1.71054284  0.13641952  0.03109931 -0.75760717 -1.36334377 -0.18258009
## [49]  1.66812445 -0.27044891  1.51551277 -0.84449695  0.81921868  0.31417877
## [55]  1.72721425 -0.94591768 -1.03121809  0.89982458  0.22417809  1.81865302
## [61]  0.67597573  0.78847375 -0.33826705 -0.85378793  1.35379846  0.70293258
## [67]  0.45934873 -0.02079873 -0.31910343 -0.31634846 -1.57320540 -1.44434556
## [73] -0.48408083 -0.01809631  2.93500529 -0.02391323</code></pre>
<p><strong>随机模拟数据 — 模拟F分布数据据</strong></p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个服从第一自由度为10、第二自由度为4的F方分布样本，容量为76，</span></span>
<span><span class="co">#保存在dt.f中</span></span>
<span><span class="va">dt.f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Fdist.html">rf</a></span><span class="op">(</span><span class="fl">76</span>,df1<span class="op">=</span><span class="fl">10</span>,df2<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.f</span></span></code></pre></div>
<pre><code>##  [1]  0.4093890  0.3920693  1.6761425  6.7990581  1.5146654  1.3158186
##  [7]  0.3878186  1.7930280  1.1394301  0.7405332  1.5851525  0.8501906
## [13]  1.1580143  1.0417022  1.6143746  5.4326644  1.2465300  6.7547978
## [19]  3.5344501  1.7003087  0.9497613  5.0285505  0.5666933  2.2540650
## [25] 13.1447962  0.9845653  0.6492383  4.1296074  1.4749961  1.5838929
## [31]  1.3148642  0.8984131  2.1221818  0.6655406  1.9409712  2.0597954
## [37]  2.4209388  3.1071167  2.7222573  0.4383570  0.5574772  0.9390487
## [43]  0.9951846  1.8334050  1.8752244  1.1988891  2.3116872  0.9928678
## [49]  1.1170271  0.5016872  3.3144030  3.3740907  0.8700413  1.9867113
## [55]  0.4624177  0.3267538  0.6965641  1.3268520  2.0311737  0.4697923
## [61]  0.2096217  0.7084959  2.1412451  0.4061634  0.3908325  1.1406730
## [67]  2.2598982  5.5646001  6.8823350  2.2090206  1.0333670  0.3612346
## [73]  0.6647716  0.5618678  0.6811862  0.2719305</code></pre>
<p><strong>随机模拟数据 — 模拟泊松分布数据</strong></p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成一个lambdaa=5的泊松方分布样本，容量为76，保存在dt.pois中</span></span>
<span><span class="va">dt.pois</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="fl">76</span>, lambda <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#查看模拟结果</span></span>
<span><span class="va">dt.pois</span></span></code></pre></div>
<pre><code>##  [1]  4  7  4  8  9  2  5  8  5  5  9  5  6  5  2  8  3  2  4  9  8  6  6 11  6
## [26]  6  5  5  4  3  9  8  6  7  1  5  6  3  4  3  3  4  4  4  3  3  3  5  4  7
## [51]  2  5  7  2  5  3  3  6  8  4  6  2  4  4  7  5  7  7  7  4  6  6  6  0  5
## [76]  3</code></pre>
<ul>
<li>冒号方式</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成元素为1,2,3,...,10的向量</span></span>
<span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成元素为-1,0,1,2,3,4的向量</span></span>
<span><span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span></code></pre></div>
<pre><code>## [1] -1  0  1  2  3  4</code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成元素为110,109,108,107,...,101的向量</span></span>
<span><span class="fl">110</span><span class="op">:</span><span class="fl">101</span></span></code></pre></div>
<pre><code>##  [1] 110 109 108 107 106 105 104 103 102 101</code></pre>
<ul>
<li>seq方式</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从1开始，每次递增1，直至递增到10的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,by<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从-1开始，每次递增1，直至递增到4的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">4</span>,by<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -1  0  1  2  3  4</code></pre>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从110开始，每次递减1，直至递减到101的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">110</span>,<span class="fl">101</span>,by<span class="op">=</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 110 109 108 107 106 105 104 103 102 101</code></pre>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从1开始，每次递增2，直至递增到9的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从2开始，每次递增2，直至递增到10的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">10</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成从1开始，每次递增0.5，直至递增到10的向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,by<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0
## [16]  8.5  9.0  9.5 10.0</code></pre>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将区间[1,10]等分为5-1=4部分，并将等分后的端点形成一个向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  1.00  3.25  5.50  7.75 10.00</code></pre>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将区间[2,10]等分为5-1=4部分，并将等分后的端点形成一个向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">10</span>,length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将区间[1,10]等分为19-1=18部分，并将等分后的端点形成一个向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,length.out <span class="op">=</span> <span class="fl">19</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0
## [16]  8.5  9.0  9.5 10.0</code></pre>
<ul>
<li>rep方式</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将元素为1、2、3、4、5的向量整体重复3次</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,times<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将元素为1、2、3、4、5的向量的每个元素依次重复3次</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,each<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5</code></pre>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将元素为a、b、d的向量整体重复3次</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'d'</span><span class="op">)</span>,times<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "a" "b" "d" "a" "b" "d" "a" "b" "d"</code></pre>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将元素为a、b、d的向量的每个元素依次重复3次</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'d'</span><span class="op">)</span>,each<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "a" "a" "a" "b" "b" "b" "d" "d" "d"</code></pre>
</div>
<div id="读写向量的元素" class="section level3" number="2.2.2">
<h3>
<span class="header-section-number">2.2.2</span> 读写向量的元素<a class="anchor" aria-label="anchor" href="#%E8%AF%BB%E5%86%99%E5%90%91%E9%87%8F%E7%9A%84%E5%85%83%E7%B4%A0"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">11</span>,<span class="fl">20</span>,<span class="fl">30</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#读出x第1个元素</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> </span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取x第2-4个元素</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> </span></code></pre></div>
<pre><code>## [1]  3  5 11</code></pre>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取x第2、5、7个元素</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">7</span><span class="op">)</span><span class="op">]</span> </span></code></pre></div>
<pre><code>## [1]  3 20  8</code></pre>
<div class="sourceCode" id="cb105"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取x第2-4以及6-8个元素</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span> </span></code></pre></div>
<pre><code>## [1]  3  5 11 30  8  9</code></pre>
<div class="sourceCode" id="cb107"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将x第1个元素变为101</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">101</span> </span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 101   3   5  11  20  30   8   9   2</code></pre>
<div class="sourceCode" id="cb109"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将x第2-4个元素分别变为102、103和104</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">=</span> <span class="fl">102</span><span class="op">:</span><span class="fl">104</span> </span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 101 102 103 104  20  30   8   9   2</code></pre>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将x第2、5、7个元素都变为105</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">7</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="fl">105</span> </span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 101 105 103 104 105  30 105   9   2</code></pre>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将x第2-4以及6-8个元素分别变为原来元素的2倍</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span><span class="op">*</span><span class="fl">2</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 101 210 206 208 105  60 210  18   2</code></pre>
</div>
<div id="向量的运算" class="section level3" number="2.2.3">
<h3>
<span class="header-section-number">2.2.3</span> 向量的运算<a class="anchor" aria-label="anchor" href="#%E5%90%91%E9%87%8F%E7%9A%84%E8%BF%90%E7%AE%97"><i class="fas fa-link"></i></a>
</h3>
<p><strong>向量的加法运算</strong></p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#用冒号方式生成向量x，元素为1、2、3、4、5、6</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span><span class="co">#用seq方式生成向量y，元素为2、2.5、3.0、3.5、4.0、4.5</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4.5</span>,by<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#两个向量相加，结果是对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span></code></pre></div>
<pre><code>## [1]  3.0  4.5  6.0  7.5  9.0 10.5</code></pre>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数将1重复6次，形成元素为6个1的向量，</span></span>
<span><span class="co">#而后再与x的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span></span></code></pre></div>
<pre><code>## [1] 2 3 4 5 6 7</code></pre>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数向量1:2整体重复3次，</span></span>
<span><span class="co">#形成元素为1、2、1、2、1、2的向量，而后再与x的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span></code></pre></div>
<pre><code>## [1] 2 4 4 6 6 8</code></pre>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数向量1:3整体重复2次，</span></span>
<span><span class="co">#形成元素为1、2、3、1、2、3的向量，而后再与x的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span></code></pre></div>
<pre><code>## [1] 2 4 6 5 7 9</code></pre>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数扩展向量1:4，</span></span>
<span><span class="co">#形成元素为1、2、3、4、1、2的向量，而后再与x的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span></code></pre></div>
<pre><code>## Warning in x + 1:4: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1] 2 4 6 8 6 8</code></pre>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数扩展向量1:5，</span></span>
<span><span class="co">#形成元素为1、2、3、4、5、1的向量，而后再与x的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></code></pre></div>
<pre><code>## Warning in x + 1:5: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1]  2  4  6  8 10  7</code></pre>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据向量1:12将x整体重复1次，</span></span>
<span><span class="co">#形成元素为1、2、3、4、5、6、1、2、3、4、5、6的向量，</span></span>
<span><span class="co">#而后再与向量1:12的对应元素相加</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span></code></pre></div>
<pre><code>##  [1]  2  4  6  8 10 12  8 10 12 14 16 18</code></pre>
<p><strong>向量的数乘运算</strong></p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#用seq方式生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,length.out <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#向量x的每个元素乘以2</span></span>
<span><span class="fl">2</span><span class="op">*</span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#向量x的每个元素乘以1.2</span></span>
<span><span class="fl">1.2</span><span class="op">*</span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 1.2 2.4 3.6 4.8 6.0</code></pre>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#向量x的每个元素乘以-1</span></span>
<span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] -1 -2 -3 -4 -5</code></pre>
<p><strong>向量的减法运算</strong></p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x和y</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4.5</span>,by<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#向量x前去向量y，结果是对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span></span></code></pre></div>
<pre><code>## [1] -1.0 -0.5  0.0  0.5  1.0  1.5</code></pre>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#向量相减，可以视为向量加法与向量数乘的联合运算</span></span>
<span><span class="va">x</span> <span class="op">+</span> <span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">*</span><span class="va">y</span></span></code></pre></div>
<pre><code>## [1] -1.0 -0.5  0.0  0.5  1.0  1.5</code></pre>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数将1重复6次，形成元素为6个1的向量，</span></span>
<span><span class="co">#而后再与x的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span></span></code></pre></div>
<pre><code>## [1] 0 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数将向量1:2整体重复3次，</span></span>
<span><span class="co">#形成元素为1、2、1、2、1、2的向量，而后再与x的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span></code></pre></div>
<pre><code>## [1] 0 0 2 2 4 4</code></pre>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数将向量1:3整体重复2次，</span></span>
<span><span class="co">#形成元素为1、2、3、1、2、3的向量，而后再与x的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span></code></pre></div>
<pre><code>## [1] 0 0 0 3 3 3</code></pre>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数扩展向量1:4，</span></span>
<span><span class="co">#形成元素为1、2、3、4、1、2的向量，而后再与x的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span></span></code></pre></div>
<pre><code>## Warning in x - 1:4: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1] 0 0 0 0 4 4</code></pre>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据x的元素个数扩展向量1:5，</span></span>
<span><span class="co">#形成元素为1、2、3、4、5、1的向量，而后再与x的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></code></pre></div>
<pre><code>## Warning in x - 1:5: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1] 0 0 0 0 0 5</code></pre>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#运算之前，会先依据向量1:12将x整体重复1次，</span></span>
<span><span class="co">#形成元素为1、2、3、4、5、6、1、2、3、4、5、6的向量，</span></span>
<span><span class="co">#而后再与向量1:12的对应元素相减</span></span>
<span><span class="va">x</span> <span class="op">-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span></code></pre></div>
<pre><code>##  [1]  0  0  0  0  0  0 -6 -6 -6 -6 -6 -6</code></pre>
<p><strong>向量的乘法运算</strong></p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x和y</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">6</span><span class="op">:</span><span class="fl">4</span></span>
<span><span class="co">#计算x与y的对应元素的乘积</span></span>
<span><span class="va">x</span> <span class="op">*</span> <span class="va">y</span></span></code></pre></div>
<pre><code>## [1]  6 10 12</code></pre>
<p><strong>向量的内积运算</strong></p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x和y</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">6</span><span class="op">:</span><span class="fl">4</span></span>
<span><span class="co">#计算x与y的内积</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">y</span></span></code></pre></div>
<pre><code>##      [,1]
## [1,]   28</code></pre>
<p><strong>向量的转置运算</strong></p>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="co">#默认情况下，向量都是列向量模式</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#x转置之后，得到1行3列的矩阵</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3</code></pre>
<p><strong>向量元素的个数</strong></p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10.2</span>,by<span class="op">=</span><span class="fl">0.31</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>##  [1] 1.00 1.31 1.62 1.93 2.24 2.55 2.86 3.17 3.48 3.79 4.10 4.41 4.72 5.03 5.34
## [16] 5.65 5.96 6.27 6.58 6.89 7.20 7.51 7.82 8.13 8.44 8.75 9.06 9.37 9.68 9.99</code></pre>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取x包含的向量个数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p><strong>向量元素求和运算</strong></p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span></span>
<span><span class="co">#计算x所有元素的和</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5050</code></pre>
<p><strong>向量元素均值运算</strong></p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span></span>
<span><span class="co">#通过mean计算x的元素均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 50.5</code></pre>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#也可以用如下方式计算x的元素均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 50.5</code></pre>
<p><strong>向量元素最大值运算</strong></p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成服从均值为3、标准差为2.5的正态分布样本x（容量为100）</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span>,mean <span class="op">=</span> <span class="fl">3</span>, sd<span class="op">=</span><span class="fl">2.5</span><span class="op">)</span></span>
<span><span class="co">#获取x的元素的最大值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 8.468332</code></pre>
<p><strong>向量元素最小值运算</strong></p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成服从区间[2.5,3]上的均匀分布样本x（容量为100）</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">2.5</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#获取x的元素的最小值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 2.500312</code></pre>
<p><strong>向量元素排序运算 — 升序</strong></p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#按有放回抽样方式从向量1:30中抽取10个元素，形成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>,<span class="fl">10</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>##  [1] 15 19 14  3 10 18 22 11  5 20</code></pre>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#以sort方式对x的元素按按从小到大进行排序</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  3  5 10 11 14 15 18 19 20 22</code></pre>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者以order方式获得x按从小到大顺序排列的角标位置</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  4  9  5  8  3  1  6  2 10  7</code></pre>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#依据order返回的结果对x的元素按从小到大的顺序排列</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  [1]  3  5 10 11 14 15 18 19 20 22</code></pre>
<p><strong>向量元素排序运算 — 降序</strong></p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#按有放回抽样方式从向量1:30中抽取10个元素，形成向量x</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>,<span class="fl">10</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>##  [1] 15 19 14  3 10 18 22 11  5 20</code></pre>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#以sort方式对x的元素按从大到小进行排序</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="va">x</span>,decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 22 20 19 18 15 14 11 10  5  3</code></pre>
<p><strong>向量元素排序运算</strong></p>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#按有放回抽样方式从向量1:30中抽取10个元素，形成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>,<span class="fl">10</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>##  [1] 15 19 14  3 10 18 22 11  5 20</code></pre>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者以order方式获得x按从大到小顺序排列的角标位置</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span>, decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  7 10  2  6  1  3  8  5  9  4</code></pre>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#依据order返回的结果对x的元素按从大到小的顺序排列</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">x</span>, decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">]</span> </span></code></pre></div>
<pre><code>##  [1] 22 20 19 18 15 14 11 10  5  3</code></pre>
<p><strong>向量元素的取值范围</strong></p>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设置随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成服从标准正态分布的样本x（容量为10）</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#计算x的元素的取值范围（计算结果的第一个元素为x的最小值，</span></span>
<span><span class="co">#第二个元素为x的最大值）</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -1.265061  1.715065</code></pre>
<p><strong>向量元素倒序运算</strong></p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,by<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1]  1  4  7 10</code></pre>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#x的元素倒序排列</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 10  7  4  1</code></pre>
<p><strong>向量元素幂运算</strong></p>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span></span>
<span><span class="co">#计算x中每个元素的平方</span></span>
<span><span class="va">x</span><span class="op">^</span><span class="fl">2</span></span></code></pre></div>
<pre><code>##  [1]   1   4   9  16  25  36  49  64  81 100 121 144</code></pre>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x中每个元素的平方根</span></span>
<span><span class="va">x</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427
##  [9] 3.000000 3.162278 3.316625 3.464102</code></pre>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x中每个元素的倒数</span></span>
<span><span class="va">x</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 1.00000000 0.50000000 0.33333333 0.25000000 0.20000000 0.16666667
##  [7] 0.14285714 0.12500000 0.11111111 0.10000000 0.09090909 0.08333333</code></pre>
<p><strong>向量元素指数运算</strong></p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="co">#计算以2为底，以x的每个元素为指数的值</span></span>
<span><span class="fl">2</span><span class="op">^</span><span class="va">x</span></span></code></pre></div>
<pre><code>##  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<p><strong>向量元素对数运算</strong></p>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#计算x的每个元素的以2为底的对数值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">x</span>,base <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x的每个元素的自然对数值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 0.6931472 1.3862944 2.0794415 2.7725887 3.4657359 4.1588831 4.8520303
##  [8] 5.5451774 6.2383246 6.9314718</code></pre>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x的每个元素的常用对数值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">x</span>,base <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] 0.30103 0.60206 0.90309 1.20412 1.50515 1.80618 2.10721 2.40824 2.70927
## [10] 3.01030</code></pre>
<p><strong>向量元素三角运算</strong></p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">*</span><span class="va">pi</span>,by<span class="op">=</span><span class="va">pi</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>## [1] 0.0000000 0.7853982 1.5707963 2.3561945 3.1415927 3.9269908 4.7123890
## [8] 5.4977871 6.2831853</code></pre>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x的每个元素的正弦</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  0.000000e+00  7.071068e-01  1.000000e+00  7.071068e-01  1.224606e-16
## [6] -7.071068e-01 -1.000000e+00 -7.071068e-01 -2.449213e-16</code></pre>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#计算x的每个元素的余弦</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  1.000000e+00  7.071068e-01  6.123032e-17 -7.071068e-01 -1.000000e+00
## [6] -7.071068e-01 -1.836910e-16  7.071068e-01  1.000000e+00</code></pre>
<p><strong>向量元素的包含运算</strong></p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x，y</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">6</span></span>
<span><span class="co">#查看x的哪些向量包含于y</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">y</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<p><strong>向量元素比较运算</strong></p>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">11</span></span>
<span><span class="co">#计算x的元素均值，保存在m中</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#判断x的元素是否大于均值m，返回的结果为TRUE，则表明相应元素大于均值，</span></span>
<span><span class="co">#反之表明相应元素不大于均值</span></span>
<span><span class="va">x</span> <span class="op">&gt;</span> <span class="va">m</span></span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb225"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#判断x的元素是否等于均值m，返回的结果为TRUE，则表明相应元素等于均值，</span></span>
<span><span class="co">#反之表明相应元素不等于均值</span></span>
<span><span class="va">x</span> <span class="op">==</span> <span class="va">m</span></span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb227"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#判断x的元素是否不等于均值m，返回的结果为TRUE，则表明相应元素不等于均值，</span></span>
<span><span class="co">#反之表明相应元素等于均值</span></span>
<span><span class="va">x</span> <span class="op">!=</span> <span class="va">m</span></span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#判断x的元素是否小于均值m，返回的结果为TRUE，则表明相应元素小于均值，</span></span>
<span><span class="co">#反之表明相应元素不小于均值</span></span>
<span><span class="va">x</span> <span class="op">&lt;</span> <span class="va">m</span></span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="co">#判断x的元素是否小于3，若小于3则结果为不合格，反之结果为合格</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">3</span>,<span class="st">"不合格"</span>,<span class="st">"合格"</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] "不合格" "不合格" "合格"   "合格"   "合格"   "合格"   "合格"   "合格"  
##  [9] "合格"   "合格"</code></pre>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#判断x的元素是否小于3，结果为不合格，若元素在[3,6)区间，结果为及格，</span></span>
<span><span class="co">#若元素大于等于6，结果为良好</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">3</span>,<span class="st">"不及格"</span>,<span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">6</span>,<span class="st">"及格"</span>,<span class="st">"良好"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1] "不及格" "不及格" "及格"   "及格"   "及格"   "良好"   "良好"   "良好"  
##  [9] "良好"   "良好"</code></pre>
<p><strong>向量元素条件查询</strong></p>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">11</span></span>
<span><span class="co">#计算x的元素的均值m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#查询x的哪些元素大于均值m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">&gt;</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  7  8  9 10 11</code></pre>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素等于均值m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">==</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素不等于均值m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">!=</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  7  8  9 10 11</code></pre>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素小于均值m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成向量x（结果是1、2、...、11的一个排列）</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#计算x的元素的均值</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#查询x的哪些元素大于均值m，并获取这些元素</span></span>
<span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">&gt;</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 11 10  9  8  7</code></pre>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素等于均值m，并获取这些元素</span></span>
<span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">==</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素不等于均值m，并获取这些元素</span></span>
<span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">!=</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  [1]  3 11  2 10  5  4  9  8  1  7</code></pre>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询x的哪些元素小于均值m，并获取这些元素</span></span>
<span><span class="va">idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="va">idx</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 3 2 5 4 1</code></pre>
<p><strong>逻辑向量求和</strong></p>
<p>对于元素为逻辑值的向量求和，可以统计其中值为TRUE的元素个数。</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成向量x（结果是1、2、...、11的一个排列）</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span><span class="op">)</span></span>
<span><span class="co">#计算x的元素的均值</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#计算有多少个数超过平均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>利用逻辑向量求和，可以统计一个向量vec2中有多少个元素属于另一个向量vec1：</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#指定vec1</span></span>
<span><span class="va">vec1</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span></span>
<span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#在向量1:30中无放回抽取10个数，形成vec2</span></span>
<span><span class="va">vec2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#查看vec2中的元素</span></span>
<span><span class="va">vec2</span></span></code></pre></div>
<pre><code>##  [1] 15 19 14  3 10 18 22 11  5 20</code></pre>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#统计vec2中有多少个元素属于vec1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">vec2</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">vec1</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p><strong>统计向量各元素取值的频数</strong></p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>,<span class="fl">15</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#提出x中不重复的元素取值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "c" "b" "e" "d" "a"</code></pre>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#统计x中各元素取值出现的频数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## x
## a b c d e 
## 2 3 6 2 2</code></pre>
<p><strong>向量的直方图</strong></p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成向量x</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">30</span>,mean<span class="op">=</span><span class="fl">60</span>,sd<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#对x的取值范围均分为8个区间</span></span>
<span><span class="va">x.cut1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">x</span>,breaks <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">#统计x的元素在各个区间的分布数量，即直方图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">x.cut1</span><span class="op">)</span></span></code></pre></div>
<pre><code>## x.cut1
##   (40.3,45]   (45,49.7] (49.7,54.4] (54.4,59.1] (59.1,63.8] (63.8,68.5] 
##           2           3           5           5           5           5 
## (68.5,73.2] (73.2,77.9] 
##           2           3</code></pre>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对x的取值范围进行区间划分，各区间端点为：</span></span>
<span><span class="co">#40、45、50、55、60、65、70、75和80</span></span>
<span><span class="va">x.cut2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">x</span>,breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">40</span>,<span class="fl">80</span>,by<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#统计x的元素在各个区间的分布数量，即直方图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">x.cut2</span><span class="op">)</span></span></code></pre></div>
<pre><code>## x.cut2
## (40,45] (45,50] (50,55] (55,60] (60,65] (65,70] (70,75] (75,80] 
##       2       4       5       4       8       2       2       3</code></pre>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对x的取值范围进行区间划分，各区间端点为：40、50、60、70和80，</span></span>
<span><span class="co">#并设定为左闭右开区间模式</span></span>
<span><span class="va">x.cut3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">x</span>,breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">40</span>,<span class="fl">80</span>,by<span class="op">=</span><span class="fl">10</span><span class="op">)</span>, right <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="co">#统计x的元素在各个区间的分布数量，即直方图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">x.cut3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## x.cut3
## [40,50) [50,60) [60,70) [70,80) 
##       6       9      10       5</code></pre>
<p>对一组数划分区间，统计频次数？在后面的直方图中有用</p>
<p>将矩阵f的如下运算变成向量操作：
<span class="math display">\[
m_{ji} = \sum_{x,y} f(x,y)*x^j*y^i
\]</span></p>
</div>
</div>
<div id="factors操作" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Factors操作<a class="anchor" aria-label="anchor" href="#factors%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<p>因子Factors是一种特殊向量，可以用来表示一些具前后、层级顺序（体现为因子水平）的分类变量，。</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个因子型向量gender，表示3个人的性别</span></span>
<span><span class="co">#默认情况下，因子水平是自动依据因子向量的元素生成的，且按照字母顺序</span></span>
<span><span class="co">#排列因子水平，比如，以下的gender向量的因子水平为：FEMALE和MALE</span></span>
<span><span class="va">gender</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>, <span class="st">"FEMALE"</span>, <span class="st">"MALE"</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">gender</span></span></code></pre></div>
<pre><code>## [1] MALE   FEMALE MALE  
## Levels: FEMALE MALE</code></pre>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个因子型向量gender1，表示3个人的性别，</span></span>
<span><span class="co">#同时指定因子水平为：MALE和FEMALE</span></span>
<span><span class="va">gender1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>, <span class="st">"FEMALE"</span>, <span class="st">"MALE"</span><span class="op">)</span>,</span>
<span>                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>,<span class="st">"FEMALE"</span><span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span><span class="va">gender1</span></span></code></pre></div>
<pre><code>## [1] MALE   FEMALE MALE  
## Levels: MALE FEMALE</code></pre>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个因子型向量blood，表示3个人的血型，</span></span>
<span><span class="co">#同时指定因子水平为：A、B、AB和O</span></span>
<span><span class="va">blood</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"O"</span>, <span class="st">"AB"</span>, <span class="st">"A"</span><span class="op">)</span>, </span>
<span>  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"AB"</span>, <span class="st">"O"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#统计向量blood中各血型出现的人数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">blood</span><span class="op">)</span></span></code></pre></div>
<pre><code>## blood
##  A  B AB  O 
##  1  0  1  1</code></pre>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#模拟生成40个同学的某课程的成绩向量score，并统计各成绩等级的人数</span></span>
<span><span class="va">score</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"优"</span>,<span class="st">"良"</span>,<span class="st">"中"</span>,<span class="st">"及格"</span>,<span class="st">"不及格"</span><span class="op">)</span>,<span class="fl">40</span>,repl<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">score</span><span class="op">)</span></span></code></pre></div>
<pre><code>## score
## 不及格   及格     良     优     中 
##      8      7      8     10      7</code></pre>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#模拟生成40个同学的某课程的成绩向量，并指定因子水平为：</span></span>
<span><span class="co">#优、良、中、及格和不及格，然后统计各成绩等级的人数</span></span>
<span><span class="va">score1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"优"</span>,<span class="st">"良"</span>,<span class="st">"中"</span>,<span class="st">"及格"</span>,<span class="st">"不及格"</span><span class="op">)</span>,<span class="fl">40</span>,repl<span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>  levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"优"</span>,<span class="st">"良"</span>,<span class="st">"中"</span>,<span class="st">"及格"</span>,<span class="st">"不及格"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">score1</span><span class="op">)</span></span></code></pre></div>
<pre><code>## score1
##     优     良     中   及格 不及格 
##      7      6      9     12      6</code></pre>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成包含5个字母a、b、c、d和e的因子型向量tmp</span></span>
<span><span class="va">tmp</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#更改tmp的第二个元素为e</span></span>
<span><span class="va">tmp</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">=</span> <span class="st">"e"</span></span>
<span><span class="va">tmp</span></span></code></pre></div>
<pre><code>## [1] a e c d e
## Levels: a b c d e</code></pre>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#若待更改的值不在因子水平中，更改操作会达不到预期</span></span>
<span><span class="va">tmp</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"z"</span></span></code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, 3, value = "z"): invalid factor level, NA
## generated</code></pre>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span></span></code></pre></div>
<pre><code>## [1] a    e    &lt;NA&gt; d    e   
## Levels: a b c d e</code></pre>
</div>
<div id="列表操作" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> 列表操作<a class="anchor" aria-label="anchor" href="#%E5%88%97%E8%A1%A8%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个列表patients，包含3个病人的姓名、体温、性别、血型</span></span>
<span><span class="va">patients</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>  subject.name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"John"</span>,<span class="st">"Peter"</span>,<span class="st">"Alice"</span><span class="op">)</span>,</span>
<span>  temperature <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">98.1</span>, <span class="fl">98.6</span>, <span class="fl">101.4</span><span class="op">)</span>,</span>
<span>  gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>, <span class="st">"FEMALE"</span>, <span class="st">"MALE"</span><span class="op">)</span>,</span>
<span>                  levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>,<span class="st">"FEMALE"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  blood <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"O"</span>, <span class="st">"AB"</span>, <span class="st">"A"</span><span class="op">)</span>, </span>
<span>                 levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"AB"</span>, <span class="st">"O"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">patients</span></span></code></pre></div>
<pre><code>## $subject.name
## [1] "John"  "Peter" "Alice"
## 
## $temperature
## [1]  98.1  98.6 101.4
## 
## $gender
## [1] MALE   FEMALE MALE  
## Levels: MALE FEMALE
## 
## $blood
## [1] O  AB A 
## Levels: A B AB O</code></pre>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询三个病人的姓名</span></span>
<span><span class="va">patients</span><span class="op">$</span><span class="va">subject.name</span></span></code></pre></div>
<pre><code>## [1] "John"  "Peter" "Alice"</code></pre>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询三个病人的体温和性别</span></span>
<span><span class="va">patients</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>## $temperature
## [1]  98.1  98.6 101.4
## 
## $gender
## [1] MALE   FEMALE MALE  
## Levels: MALE FEMALE</code></pre>
<div class="sourceCode" id="cb289"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">patients</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"temperature"</span>,<span class="st">"gender"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## $temperature
## [1]  98.1  98.6 101.4
## 
## $gender
## [1] MALE   FEMALE MALE  
## Levels: MALE FEMALE</code></pre>
<div class="sourceCode" id="cb291"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询第二个病人的血型</span></span>
<span><span class="va">patients</span><span class="op">$</span><span class="va">blood</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] AB
## Levels: A B AB O</code></pre>
<div class="sourceCode" id="cb293"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询是否有姓名为Alice的病人</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">patients</span><span class="op">$</span><span class="va">subject.name</span><span class="op">==</span><span class="st">"Alice"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb295"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个列表pnts：包含10个点的横、纵坐标</span></span>
<span><span class="va">pnts</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"list"</span>,<span class="fl">10</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="va">i</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="va">pnts</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">pnts</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] -0.50  0.13
## 
## [[2]]
## [1] 0.08 0.23
## 
## [[3]]
## [1] 1.37 0.86
## 
## [[4]]
## [1] -1.04  0.62
## 
## [[5]]
## [1] 0.97 1.97
## 
## [[6]]
## [1] -1.12  0.20
## 
## [[7]]
## [1] -0.09 -0.23
## 
## [[8]]
## [1]  0.93 -0.05
## 
## [[9]]
## [1]  0.12 -1.10
## 
## [[10]]
## [1] -0.45 -1.21</code></pre>
<div class="sourceCode" id="cb297"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#取出pnts中10个点的横坐标</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">pnts</span>,<span class="st">'[['</span>,<span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#取出pnts中10个点的纵坐标</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">pnts</span>,<span class="st">'[['</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#绘制这10个点形成的多边形</span></span>
<span><span class="va">rng</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="op">(</span><span class="va">rng</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">rng</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,<span class="op">(</span><span class="va">rng</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">rng</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>     type<span class="op">=</span><span class="st">"n"</span>,xlab<span class="op">=</span><span class="st">""</span>,ylab<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-44-1.png" width="672"></div>
</div>
<div id="数据框操作" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> 数据框操作<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb298"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一个数据框PtData，包含9个病人的姓名、体温、流感状态、性别、血型</span></span>
<span><span class="va">subject.name</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"John"</span>,<span class="st">"Peter"</span>,<span class="st">"Alice"</span>,<span class="st">"Philip"</span>,</span>
<span>                 <span class="st">"Jack"</span>,<span class="st">"Green"</span>,<span class="st">"Mark"</span>,<span class="st">"Lili"</span>,<span class="st">"Ama"</span><span class="op">)</span></span>
<span><span class="va">temperature</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">98.1</span>,<span class="fl">98.6</span>,<span class="fl">101.4</span>,<span class="fl">90.0</span>,<span class="fl">95.2</span>,<span class="fl">96.6</span>,<span class="fl">97.8</span>,<span class="fl">95.1</span>,<span class="fl">98.9</span><span class="op">)</span></span>
<span><span class="va">flu.status</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span>,<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,<span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">gender</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>, <span class="st">"FEMALE"</span>, <span class="st">"MALE"</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>                levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MALE"</span>,<span class="st">"FEMALE"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">blood</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"O"</span>, <span class="st">"AB"</span>, <span class="st">"A"</span><span class="op">)</span>,each<span class="op">=</span><span class="fl">3</span><span class="op">)</span>, </span>
<span>               levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"AB"</span>, <span class="st">"O"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">PtData</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">subject.name</span>, <span class="va">temperature</span>, <span class="va">flu.status</span>, </span>
<span>                      <span class="va">gender</span>, <span class="va">blood</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#查看PtData的数据结构</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">PtData</span><span class="op">)</span></span></code></pre></div>
<pre><code>## 'data.frame':    9 obs. of  5 variables:
##  $ subject.name: chr  "John" "Peter" "Alice" "Philip" ...
##  $ temperature : num  98.1 98.6 101.4 90 95.2 ...
##  $ flu.status  : logi  TRUE FALSE FALSE TRUE FALSE FALSE ...
##  $ gender      : Factor w/ 2 levels "MALE","FEMALE": 1 2 1 1 2 1 1 2 1
##  $ blood       : Factor w/ 4 levels "A","B","AB","O": 4 4 4 3 3 3 1 1 1</code></pre>
<div class="sourceCode" id="cb300"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取PtData的列名称</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">PtData</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "subject.name" "temperature"  "flu.status"   "gender"       "blood"</code></pre>
<div class="sourceCode" id="cb302"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查看PtData的前5个病人的数据</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">PtData</span>,<span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>##   subject.name temperature flu.status gender blood
## 1         John        98.1       TRUE   MALE     O
## 2        Peter        98.6      FALSE FEMALE     O
## 3        Alice       101.4      FALSE   MALE     O
## 4       Philip        90.0       TRUE   MALE    AB
## 5         Jack        95.2      FALSE FEMALE    AB</code></pre>
<div class="sourceCode" id="cb304"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询第一个病人的姓名</span></span>
<span><span class="va">PtData</span><span class="op">$</span><span class="va">subject.name</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "John"</code></pre>
<div class="sourceCode" id="cb306"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span>,<span class="st">"subject.name"</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "John"</code></pre>
<div class="sourceCode" id="cb308"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "John"</code></pre>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询九个病人的姓名</span></span>
<span><span class="va">PtData</span><span class="op">$</span><span class="va">subject.name</span> <span class="co">#返回的是向量</span></span></code></pre></div>
<pre><code>## [1] "John"   "Peter"  "Alice"  "Philip" "Jack"   "Green"  "Mark"   "Lili"  
## [9] "Ama"</code></pre>
<div class="sourceCode" id="cb312"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="co">#返回的是向量</span></span></code></pre></div>
<pre><code>## [1] "John"   "Peter"  "Alice"  "Philip" "Jack"   "Green"  "Mark"   "Lili"  
## [9] "Ama"</code></pre>
<div class="sourceCode" id="cb314"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co">#返回的不是向量，而是数据框</span></span></code></pre></div>
<pre><code>##   subject.name
## 1         John
## 2        Peter
## 3        Alice
## 4       Philip
## 5         Jack
## 6        Green
## 7         Mark
## 8         Lili
## 9          Ama</code></pre>
<div class="sourceCode" id="cb316"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询九个病人的姓名和体温</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"subject.name"</span>,<span class="st">"temperature"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name temperature
## 1         John        98.1
## 2        Peter        98.6
## 3        Alice       101.4
## 4       Philip        90.0
## 5         Jack        95.2
## 6        Green        96.6
## 7         Mark        97.8
## 8         Lili        95.1
## 9          Ama        98.9</code></pre>
<div class="sourceCode" id="cb318"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name temperature
## 1         John        98.1
## 2        Peter        98.6
## 3        Alice       101.4
## 4       Philip        90.0
## 5         Jack        95.2
## 6        Green        96.6
## 7         Mark        97.8
## 8         Lili        95.1
## 9          Ama        98.9</code></pre>
<div class="sourceCode" id="cb320"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询第1-3个病人的姓名和流感状态</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"subject.name"</span>,<span class="st">"flu.status"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name flu.status
## 1         John       TRUE
## 2        Peter      FALSE
## 3        Alice      FALSE</code></pre>
<div class="sourceCode" id="cb322"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name flu.status
## 1         John       TRUE
## 2        Peter      FALSE
## 3        Alice      FALSE</code></pre>
<div class="sourceCode" id="cb324"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询第一个病人信息</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name temperature flu.status gender blood
## 1         John        98.1       TRUE   MALE     O</code></pre>
<div class="sourceCode" id="cb326"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询姓名为Alice的病人信息</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="va">PtData</span><span class="op">$</span><span class="va">subject.name</span><span class="op">==</span><span class="st">"Alice"</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>##   subject.name temperature flu.status gender blood
## 3        Alice       101.4      FALSE   MALE     O</code></pre>
<div class="sourceCode" id="cb328"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询第一个、第三个病人的体温和性别信息</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"temperature"</span>, <span class="st">"gender"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   temperature gender
## 1        98.1   MALE
## 3       101.4   MALE</code></pre>
<div class="sourceCode" id="cb330"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="va">PtData</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##   temperature gender
## 1        98.1   MALE
## 3       101.4   MALE
## 4        90.0   MALE
## 5        95.2 FEMALE
## 6        96.6   MALE
## 7        97.8   MALE
## 8        95.1 FEMALE
## 9        98.9   MALE</code></pre>
<div class="sourceCode" id="cb332"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查询数据框的行数和列数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">PtData</span><span class="op">)</span> <span class="co">#同时返回行数和列数</span></span></code></pre></div>
<pre><code>## [1] 9 5</code></pre>
<div class="sourceCode" id="cb334"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">PtData</span><span class="op">)</span> <span class="co">#只返回行数</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb336"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">PtData</span><span class="op">)</span> <span class="co">#只返回列数</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
<div id="矩阵操作" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> 矩阵操作<a class="anchor" aria-label="anchor" href="#%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<p>留意如何生成像素横坐标和纵坐标映射矩阵</p>
<p>对矩阵元素进行order排序，找到最大的10个（用于后面的模板匹配）</p>
<div class="sourceCode" id="cb338"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">4</span>,nc<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    3    6    9
## [2,]   12   11    8
## [3,]   10    5    1
## [4,]    2    4    7</code></pre>
<div class="sourceCode" id="cb340"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ord</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">m</span>,decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#(cc-1)*nrow(m)+rr=pos</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">pos</span> <span class="kw">in</span> <span class="va">ord</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">rr</span> <span class="op">=</span> <span class="va">pos</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">rr</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span> <span class="va">rr</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span>  <span class="va">cc</span> <span class="op">=</span> <span class="op">(</span><span class="va">pos</span> <span class="op">-</span> <span class="va">rr</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">+</span><span class="fl">1</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">rr</span>,<span class="va">cc</span>,<span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code>## 2 1 
## 2 2 
## 3 1 
## 1 3 
## 2 3 
## 4 3 
## 1 2 
## 3 2 
## 4 2 
## 1 1 
## 4 1 
## 3 3</code></pre>
<div id="生成矩阵" class="section level3" number="2.6.1">
<h3>
<span class="header-section-number">2.6.1</span> 生成矩阵<a class="anchor" aria-label="anchor" href="#%E7%94%9F%E6%88%90%E7%9F%A9%E9%98%B5"><i class="fas fa-link"></i></a>
</h3>
<p><strong>示例</strong></p>
<p>生成如下矩阵：</p>
<p><span class="math display">\[
\left[
\begin{matrix}
3 &amp; 10 &amp; 9 \\
4 &amp; 7  &amp; 8 \\
2 &amp; 1  &amp; 5
\end{matrix}
\right]
\]</span></p>
<div class="sourceCode" id="cb342"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">10</span>,<span class="fl">9</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span>,nc<span class="op">=</span><span class="fl">3</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    3   10    9
## [2,]    4    7    8
## [3,]    2    1    5</code></pre>
<p>若不要<strong>byrow=T</strong>，会生成如下的矩阵：</p>
<p><span class="math display">\[
\left[
\begin{matrix}
3 &amp; 4 &amp; 2 \\
10 &amp; 7  &amp; 1 \\
9 &amp; 8  &amp; 5
\end{matrix}
\right]
\]</span>
<strong>示例</strong></p>
<p>生成如下矩阵：</p>
<p><span class="math display">\[
\left[
\begin{matrix}
1 &amp; 4 &amp; 7 \\
2 &amp; 5 &amp; 8 \\
3 &amp; 6 &amp; 9
\end{matrix}
\right]
\]</span></p>
<div class="sourceCode" id="cb344"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>,nr<span class="op">=</span><span class="fl">3</span>,nc<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<p>再生成如下矩阵：</p>
<p><span class="math display">\[
\left[
\begin{matrix}
a &amp; b &amp; c &amp; d \\
e &amp; f &amp; g &amp; h \\
i &amp; j &amp; k &amp; l
\end{matrix}
\right]
\]</span></p>
<div class="sourceCode" id="cb346"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">]</span>,nr<span class="op">=</span><span class="fl">3</span>,byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,] "a"  "b"  "c"  "d" 
## [2,] "e"  "f"  "g"  "h" 
## [3,] "i"  "j"  "k"  "l"</code></pre>
<p><strong>示例</strong></p>
<p>生成随机矩阵：</p>
<div class="sourceCode" id="cb348"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#通过无放回抽样方式生成随机矩阵</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,<span class="fl">9</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   11    9    7
## [2,]    5    4   12
## [3,]    3    1   10</code></pre>
<div class="sourceCode" id="cb350"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#通过模拟正态分布生成随机矩阵</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">9</span>,mean<span class="op">=</span><span class="fl">75</span>,sd<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##          [,1]     [,2]     [,3]
## [1,] 76.10683 79.97850 70.27209
## [2,] 69.44159 55.33383 64.32176
## [3,] 92.86913 82.01356 72.82025</code></pre>
<div class="sourceCode" id="cb352"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#通过模拟均匀分布生成随机矩阵</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">30</span>,<span class="fl">50</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>##            [,1]      [,2]      [,3]
## [1,] -21.300222 -54.33467 -26.90685
## [2,]  -6.444561  71.88935  92.69075
## [3,]  -1.251963  37.66866  51.32321</code></pre>
<p><strong>示例</strong></p>
<p>用outer方式生成矩阵：</p>
<div class="sourceCode" id="cb354"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">4</span><span class="op">:</span><span class="fl">7</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/outer.html">outer</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,<span class="st">"*"</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    4    5    6    7
## [2,]    8   10   12   14
## [3,]   12   15   18   21</code></pre>
<p><strong>示例</strong></p>
<p>用修改维度方式的从向量生成矩阵</p>
<div class="sourceCode" id="cb356"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#设定随机种子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="co">#生成服从标准正态分布的向量（包含64个元素，每个元素保留2位小数）</span></span>
<span><span class="va">v</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">64</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#更改v的维度为8行、8列</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">8</span><span class="op">)</span></span>
<span><span class="co">#维度更改后，v从向量转变为8行、8列矩阵</span></span>
<span><span class="va">v</span></span></code></pre></div>
<pre><code>##       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]
## [1,] -0.56 -0.69  0.50 -0.63  0.90 -0.69  0.78 -1.55
## [2,] -0.23 -0.45 -1.97 -1.69  0.88 -0.21 -0.08  0.58
## [3,]  1.56  1.22  0.70  0.84  0.82 -1.27  0.25  0.12
## [4,]  0.07  0.36 -0.47  0.15  0.69  2.17 -0.03  0.22
## [5,]  0.13  0.40 -1.07 -1.14  0.55  1.21 -0.04  0.38
## [6,]  1.72  0.11 -0.22  1.25 -0.06 -1.12  1.37 -0.50
## [7,]  0.46 -0.56 -1.03  0.43 -0.31 -0.40 -0.23 -0.33
## [8,] -1.27  1.79 -0.73 -0.30 -0.38 -0.47  1.52 -1.02</code></pre>
</div>
<div id="读写矩阵的元素" class="section level3" number="2.6.2">
<h3>
<span class="header-section-number">2.6.2</span> 读写矩阵的元素<a class="anchor" aria-label="anchor" href="#%E8%AF%BB%E5%86%99%E7%9F%A9%E9%98%B5%E7%9A%84%E5%85%83%E7%B4%A0"><i class="fas fa-link"></i></a>
</h3>
<p>已知一个3行5列矩阵：</p>
<p><span class="math display">\[
m = \left[
\begin{matrix}
3.9  &amp; 2.2  &amp; 4.1  &amp; 3.2  &amp; 3.8 \\
2.7  &amp; 2.6  &amp; 2.6  &amp; 2.5  &amp; 3.8 \\
4.9  &amp; 2.4  &amp; 4.7  &amp; 3.9  &amp; 2.9 \\
\end{matrix}
\right]
\]</span></p>
<p>解决如下问题：</p>
<ul>
<li>读出<strong>m</strong>第1行的第1列元素</li>
<li>读取<strong>m</strong>第2行的第2-4列元素</li>
<li>读取<strong>m</strong>第1-2行的第2列元素</li>
<li>读取<strong>m</strong>第2-3行的第3-5列元素</li>
<li>读取<strong>m</strong>第2-3行的第1-2列以及第5列元素</li>
<li>将<strong>m</strong>第1行的第1列元素变为0</li>
<li>将<strong>m</strong>第2行的第2-4列元素分别变为1.1,1.2,1.3</li>
<li>将<strong>m</strong>第1-2行的第2列元素变为它们各自的相反数</li>
<li>将<strong>m</strong>第2-3行的第3-5列元素变为-1</li>
<li>将<strong>m</strong>第2-3行的第1-2列以及第5列元素变为它们各自的倒数</li>
<li>将<strong>m</strong>第1行的第1列元素变为0</li>
<li>将<strong>m</strong>第2行的第2-4列元素分别变为1.1,1.2,1.3</li>
<li>将<strong>m</strong>第1-2行的第2列元素变为它们各自的相反数</li>
<li>将<strong>m</strong>第2-3行的第3-5列元素变为-1</li>
<li>将<strong>m</strong>第2-3行的第1-2列以及第5列元素变为它们各自的倒数</li>
</ul>
<div class="sourceCode" id="cb358"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3.9</span>,<span class="fl">2.2</span>,<span class="fl">4.1</span>,<span class="fl">3.2</span>,<span class="fl">3.8</span>,<span class="fl">2.7</span>,<span class="fl">2.6</span>,<span class="fl">2.6</span>,<span class="fl">2.5</span>,<span class="fl">3.8</span>,<span class="fl">4.9</span>,<span class="fl">2.4</span>,<span class="fl">4.7</span>,<span class="fl">3.9</span>,<span class="fl">2.9</span><span class="op">)</span>,</span>
<span>  nr<span class="op">=</span><span class="fl">3</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#读出m第1行的第1列元素</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 3.9</code></pre>
<div class="sourceCode" id="cb360"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取m第2行的第2-4列元素</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 2.6 2.6 2.5</code></pre>
<div class="sourceCode" id="cb362"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取m第1-2行的第2列元素</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 2.2 2.6</code></pre>
<div class="sourceCode" id="cb364"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取m第2-3行的第3-5列元素</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]  2.6  2.5  3.8
## [2,]  4.7  3.9  2.9</code></pre>
<div class="sourceCode" id="cb366"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取m第2-3行的第1-2列以及第5列元素</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]  2.7  2.6  3.8
## [2,]  4.9  2.4  2.9</code></pre>
<div class="sourceCode" id="cb368"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将m第1行的第1列元素变为0</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="co">#将m第2行的第2-4列元素分别变为1.1,1.2,1.3</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1.1</span>,<span class="fl">1.3</span>,by<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="co">#将m第1-2行的第2列元素变为它们各自的相反数</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">=</span> <span class="op">-</span><span class="va">m</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span></span>
<span><span class="co">#将m第2-3行的第3-5列元素变为-1</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span></span>
<span><span class="co">#将m第2-3行的第1-2列以及第5列元素变为它们各自的倒数</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="va">m</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</div>
<div id="矩阵的运算" class="section level3" number="2.6.3">
<h3>
<span class="header-section-number">2.6.3</span> 矩阵的运算<a class="anchor" aria-label="anchor" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BF%90%E7%AE%97"><i class="fas fa-link"></i></a>
</h3>
<p><strong>矩阵的加法运算</strong></p>
<div class="sourceCode" id="cb369"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#生成3行3列矩阵k</span></span>
<span><span class="va">k</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">7</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#计算m与k的和</span></span>
<span><span class="va">m</span> <span class="op">+</span> <span class="va">k</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   13   16   11
## [2,]   16   14    8</code></pre>
<div class="sourceCode" id="cb371"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#m的每个数都加上3，其中有一个隐含的操作：</span></span>
<span><span class="co">#R语言会自动依据m的行数和列数生成2行3列的元素全为3的矩阵</span></span>
<span><span class="va">m</span> <span class="op">+</span> <span class="fl">3</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    8    7    5
## [2,]    9    6    4</code></pre>
<p><strong>矩阵的数乘运算</strong></p>
<div class="sourceCode" id="cb373"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#计算1.2乘以m</span></span>
<span><span class="fl">1.2</span><span class="op">*</span><span class="va">m</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]  4.8  2.4  6.0
## [2,]  7.2  1.2  3.6</code></pre>
<p><strong>矩阵的减法运算</strong></p>
<div class="sourceCode" id="cb375"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#生成3行3列矩阵k</span></span>
<span><span class="va">k</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">7</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#计算m与k的差</span></span>
<span><span class="va">m</span> <span class="op">-</span> <span class="va">k</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   -1   -7   -9
## [2,]   -6  -10   -3</code></pre>
<p><strong>矩阵的乘法运算</strong></p>
<div class="sourceCode" id="cb377"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#生成3行4列矩阵k</span></span>
<span><span class="va">k</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#计算m与k的乘积</span></span>
<span><span class="va">m</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">k</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]   74   86  102   70
## [2,]   64   51   62   23</code></pre>
<p><strong>矩阵元素的取值范围</strong></p>
<div class="sourceCode" id="cb379"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">6</span>,mean<span class="op">=</span><span class="fl">10</span>,sd<span class="op">=</span><span class="fl">5</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#获取矩阵元素的取值范围：第1个元素为最小值，第2个元素为最大值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  7.20 18.58</code></pre>
<p><strong>将矩阵元素取值映射到新的取值区间</strong></p>
<p>设矩阵元素的最小值和最大值分别为<span class="math inline">\(minV\)</span>、<span class="math inline">\(maxV\)</span>，可以依据如下公式将其元素取值映射到<span class="math inline">\([a,b]\)</span>区间上：
<span class="math display">\[
newV = oldV \times \frac{b-a}{maxV-minV} - minV \times \frac{b-a}{maxV-minV}+a
\]</span></p>
<div class="sourceCode" id="cb381"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">6</span>,mean<span class="op">=</span><span class="fl">10</span>,sd<span class="op">=</span><span class="fl">5</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#获取矩阵元素的的最小值和最大值</span></span>
<span><span class="va">minV</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="va">maxV</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span>
<span><span class="co">#将矩阵元素的取值映射到[0,255]区间</span></span>
<span><span class="va">a</span> <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="va">b</span> <span class="op">=</span> <span class="fl">255</span></span>
<span><span class="va">m.new</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">m</span><span class="op">*</span><span class="op">(</span><span class="va">b</span><span class="op">-</span><span class="va">a</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">maxV</span><span class="op">-</span><span class="va">minV</span><span class="op">)</span><span class="op">-</span><span class="va">minV</span><span class="op">*</span><span class="op">(</span><span class="va">b</span><span class="op">-</span><span class="va">a</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="va">maxV</span><span class="op">-</span><span class="va">minV</span><span class="op">)</span><span class="op">+</span><span class="va">a</span><span class="op">)</span></span>
<span><span class="va">m.new</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    0  237   77
## [2,]   37   71  255</code></pre>
<p><strong>矩阵的转置运算</strong></p>
<div class="sourceCode" id="cb383"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成2行3列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#计算m的转置</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    6    1
## [2,]    2    3
## [3,]    4    5</code></pre>
<p><strong>矩阵的行数与列数</strong></p>
<div class="sourceCode" id="cb385"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成5行20列的随机矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#查看m的行数和列数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  5 20</code></pre>
<div class="sourceCode" id="cb387"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#只查看m的行数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb389"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#只查看m的列数</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<p><strong>矩阵的行（列）向量操作</strong></p>
<div class="sourceCode" id="cb391"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成3行5列矩阵m</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span>,nr<span class="op">=</span><span class="fl">3</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#计算m的第一行元素（视为一个行向量）的均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb393"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#求矩阵各行元素的均值  </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">1</span>,<span class="va">mean</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  3  8 13</code></pre>
<div class="sourceCode" id="cb395"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#求矩阵第一列元素的均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">m</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb397"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#求矩阵各列元素的均值 </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">2</span>,<span class="va">mean</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb399"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#求矩阵各行元素的最大值、最小值、和</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">1</span>,<span class="va">max</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  5 10 15</code></pre>
<div class="sourceCode" id="cb401"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">1</span>,<span class="va">min</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  1  6 11</code></pre>
<div class="sourceCode" id="cb403"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">1</span>,<span class="va">sum</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 15 40 65</code></pre>
<div class="sourceCode" id="cb405"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#求矩阵各列元素的最大值、最小值、和</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">2</span>,<span class="va">max</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 11 12 13 14 15</code></pre>
<div class="sourceCode" id="cb407"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">2</span>,<span class="va">min</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb409"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html">apply</a></span><span class="op">(</span><span class="va">m</span>,<span class="fl">2</span>,<span class="va">sum</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 18 21 24 27 30</code></pre>
<p><strong>矩阵的拼接</strong></p>
<p><strong>示例</strong></p>
<p>已知如下方程组：</p>
<p><span class="math display">\[
\begin{cases}
2x_1+x_2-5x_3+x_4=8\\
x_1-3x_2-6x_4=9\\
2x_2-x_3+2x_4=-5\\
x_1+4x_2-7x_3+6x_4=0
\end{cases}
\]</span>
可以通过如下代码生成方程组的增广矩阵：</p>
<div class="sourceCode" id="cb411"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成方程组的系数矩阵A</span></span>
<span><span class="va">A</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">3</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">6</span>,<span class="fl">0</span>,<span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">7</span>,<span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">4</span>,byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#生成方程组等号右边的值向量b</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">9</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#按列模式拼接矩阵A和b，形成增广矩阵A|b</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">A</span>,<span class="va">b</span><span class="op">)</span> </span></code></pre></div>
<pre><code>##                  b
## [1,] 2  1 -5  1  8
## [2,] 1 -3  0 -6  9
## [3,] 0  2 -1  2 -5
## [4,] 1  4 -7  6  0</code></pre>
<p><strong>示例</strong></p>
<p>已知矩阵：</p>
<p><span class="math display">\[
m = \left[
\begin{matrix}
1  &amp; 2  &amp; 3 \\
1  &amp; 1  &amp; 2  \\
0  &amp; 1  &amp; 1  \\
\end{matrix}
\right]
\]</span></p>
<p>可以通过如下代码在<span class="math inline">\(m\)</span>右边拼接一个3阶单位矩阵：</p>
<div class="sourceCode" id="cb413"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>, <span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#生成3阶单位阵E</span></span>
<span><span class="va">E</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">##按列模式拼接矩阵m和E</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">m</span>,<span class="va">E</span><span class="op">)</span> </span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    1    2    3    1    0    0
## [2,]    1    1    2    0    1    0
## [3,]    0    1    1    0    0    1</code></pre>
<p>也可以通过如下代码在<span class="math inline">\(m\)</span>的下边拼接一个3阶单位矩阵：</p>
<div class="sourceCode" id="cb415"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">0</span>, <span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#生成3阶单位阵E</span></span>
<span><span class="va">E</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#按行模式拼接矩阵m和E</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">m</span>,<span class="va">E</span><span class="op">)</span> </span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    1    1    2
## [3,]    0    1    1
## [4,]    1    0    0
## [5,]    0    1    0
## [6,]    0    0    1</code></pre>
<ul>
<li>矩阵的秩</li>
</ul>
<p><span class="math display">\[
\left[
\begin{matrix}
2 &amp; -1 &amp; -1 &amp; 1 &amp; 2 \\
1 &amp; 1 &amp; -2 &amp; 1 &amp; 4 \\
4 &amp; -6 &amp; 2 &amp; -2 &amp; 4 \\
3 &amp; 6 &amp; -9 &amp; 7 &amp; 9
\end{matrix}
\right]
\]</span></p>
<div class="sourceCode" id="cb417"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵m</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">6</span>,<span class="fl">2</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">6</span>,<span class="op">-</span><span class="fl">9</span>,<span class="fl">7</span>,<span class="fl">9</span><span class="op">)</span>,</span>
<span>  nr<span class="op">=</span><span class="fl">4</span>,byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#对m进行qr分解，分解结果中的rank元素即为矩阵的秩</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/qr.html">qr</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## $qr
##            [,1]       [,2]       [,3]          [,4]          [,5]
## [1,] -5.4772256  1.2780193 -2.9211870  4.199206e+00 -9.311283e+00
## [2,]  0.1825742 -8.5068600 -6.7866796  8.506860e+00 -5.160541e+00
## [3,]  0.7302967 -0.5620588  0.6384718  7.770963e-16 -1.915415e+00
## [4,]  0.5477226  0.8127538 -0.4842447 -4.300957e-16  2.664535e-15
## 
## $rank
## [1] 3
## 
## $qraux
## [1] 1.365148e+00 1.153366e+00 1.874933e+00 4.300957e-16 2.664535e-15
## 
## $pivot
## [1] 1 2 4 3 5
## 
## attr(,"class")
## [1] "qr"</code></pre>
<div class="sourceCode" id="cb419"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#也可以直接提取出rank元素的值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/qr.html">qr</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">$</span><span class="va">rank</span></span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p><strong>方阵的行列与逆</strong></p>
<p>已知如下方程组：</p>
<p><span class="math display">\[
\begin{cases}
2x_1+x_2-5x_3+x_4=8\\
x_1-3x_2-6x_4=9\\
2x_2-x_3+2x_4=-5\\
x_1+4x_2-7x_3+6x_4=0
\end{cases}
\]</span>
可以通过如下代码求系数矩阵（方阵）的行列式：</p>
<div class="sourceCode" id="cb421"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成方程组的系数矩阵A</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">3</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">6</span>,<span class="fl">0</span>,<span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">7</span>,<span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">4</span>,byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#计算A的行列式</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/det.html">det</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode" id="cb423"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#由于A的行列式不为0，则A存在逆矩阵，可以用如下代码求A的逆</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span></span></code></pre></div>
<pre><code>##             [,1]       [,2]       [,3]       [,4]
## [1,]  1.33333333 -0.6666667  0.3333333 -1.0000000
## [2,] -0.07407407  0.2592593  1.1481481 -0.1111111
## [3,]  0.37037037 -0.2962963  0.2592593 -0.4444444
## [4,]  0.25925926 -0.4074074 -0.5185185 -0.1111111</code></pre>
<div class="sourceCode" id="cb425"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#验证A与A的逆矩阵的乘积为单位阵</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">A</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    0    0    0
## [2,]    0    1    0    0
## [3,]    0    0    1    0
## [4,]    0    0    0    1</code></pre>
<p><strong>矩阵的特征值与特征向量</strong></p>
<p>已知矩阵：</p>
<p><span class="math display">\[
\left[
\begin{matrix}
2 &amp; -1 &amp; -1 &amp; 1  \\
1 &amp; 1 &amp; -2 &amp; 1  \\
4 &amp; -6 &amp; 2 &amp; -2  \\
3 &amp; 6 &amp; -9 &amp; 7
\end{matrix}
\right]
\]</span></p>
<div class="sourceCode" id="cb427"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵m</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">6</span>,<span class="fl">2</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">6</span>,<span class="op">-</span><span class="fl">9</span>,<span class="fl">7</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">4</span>,byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#计算矩阵m的特征值以及对应的特征向量</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/eigen.html">eigen</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  1.093435e+01  2.246329e+00 -1.180679e+00 -7.945204e-17
## 
## $vectors
##            [,1]       [,2]       [,3]          [,4]
## [1,] -0.1174212 0.44939671 -0.2083100 -5.773503e-01
## [2,] -0.1603660 0.04270745 -0.3821389 -5.773503e-01
## [3,]  0.2662625 0.54957601 -0.7612040 -5.773503e-01
## [4,] -0.9431857 0.70298284 -0.4807758  7.414302e-16</code></pre>
<p><strong>求方程组</strong></p>
<p><span class="math display">\[
\begin{cases}
2x_1+x_2-5x_3+x_4=8\\
x_1-3x_2-6x_4=9\\
2x_2-x_3+2x_4=-5\\
x_1+4x_2-7x_3+6x_4=0
\end{cases}
\]</span></p>
<div class="sourceCode" id="cb429"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成系数矩阵m</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">3</span>,<span class="fl">0</span>,<span class="op">-</span><span class="fl">6</span>,<span class="fl">0</span>,<span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="op">-</span><span class="fl">7</span>,<span class="fl">6</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">4</span>,nc<span class="op">=</span><span class="fl">4</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#m的行列式不为0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/det.html">det</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">0</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb431"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成方程组等号右边的值向量</span></span>
<span><span class="va">b</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">9</span>,<span class="op">-</span><span class="fl">5</span>,<span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#求方程组的解(当系数矩阵为奇异的，则如下代码会报错，即不能求解)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">m</span>,<span class="va">b</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1]  3 -4 -1  1</code></pre>
<div class="sourceCode" id="cb433"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/solve.html">solve</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">b</span></span></code></pre></div>
<pre><code>##      [,1]
## [1,]    3
## [2,]   -4
## [3,]   -1
## [4,]    1</code></pre>
<p><strong>矩阵元素的比较</strong></p>
<div class="sourceCode" id="cb435"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,nr<span class="op">=</span><span class="fl">2</span>,nc<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#x的元素小于3时，取值为不合格，否则取值为合格</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">3</span>,<span class="st">"不合格"</span>,<span class="st">"合格"</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1]     [,2]   [,3]   [,4]   [,5]  
## [1,] "不合格" "合格" "合格" "合格" "合格"
## [2,] "不合格" "合格" "合格" "合格" "合格"</code></pre>
<div class="sourceCode" id="cb437"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#x的元素小于3时，取值为不合格，当元素在[3,6)区间上取值为及格，</span></span>
<span><span class="co">#否则取值为良好</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">3</span>,<span class="st">"不及格"</span>,<span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">6</span>,<span class="st">"及格"</span>,<span class="st">"良好"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1]     [,2]   [,3]   [,4]   [,5]  
## [1,] "不及格" "及格" "及格" "良好" "良好"
## [2,] "不及格" "及格" "良好" "良好" "良好"</code></pre>
<p><strong>查询表运算</strong></p>
<div class="sourceCode" id="cb439"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成查询表</span></span>
<span><span class="va">lookuptbl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,each<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#生成数组</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>,nr<span class="op">=</span><span class="fl">2</span>,nc<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#查看x</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    3    5    7
## [2,]    2    4    6    8</code></pre>
<div class="sourceCode" id="cb441"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#利用查询表，将x中属于[1,4]的数对应到1，属于[5-8]的数对应到2</span></span>
<span><span class="va">lookuptbl</span><span class="op">[</span><span class="va">x</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 1 1 1 1 2 2 2 2</code></pre>
<div class="sourceCode" id="cb443"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#若需要对应结果也展现为矩阵x的形式，可采用如下命令：</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">lookuptbl</span><span class="op">[</span><span class="va">x</span><span class="op">]</span>,nr<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,nc<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    1    2    2
## [2,]    1    1    2    2</code></pre>
<p><strong>矩阵的对数运算</strong></p>
<div class="sourceCode" id="cb445"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,nr<span class="op">=</span><span class="fl">2</span>,nc<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#计算x的每个元素的对数值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##           [,1]     [,2]     [,3]     [,4]     [,5]
## [1,] 0.0000000 1.098612 1.609438 1.945910 2.197225
## [2,] 0.6931472 1.386294 1.791759 2.079442 2.302585</code></pre>
<p><strong>矩阵元素均一化</strong></p>
<div class="sourceCode" id="cb447"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,nr<span class="op">=</span><span class="fl">2</span>,nc<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#x中的元素均一化</span></span>
<span><span class="va">x</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>##            [,1]       [,2]       [,3]      [,4]      [,5]
## [1,] 0.01818182 0.05454545 0.09090909 0.1272727 0.1636364
## [2,] 0.03636364 0.07272727 0.10909091 0.1454545 0.1818182</code></pre>
<p><strong>矩阵元素的最大最小值方式归一化</strong></p>
<div class="sourceCode" id="cb449"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵x</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,nr<span class="op">=</span><span class="fl">2</span>,nc<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#最大最小值方式归一化</span></span>
<span><span class="op">(</span><span class="va">x</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]      [,4]      [,5]
## [1,] 0.0000000 0.2222222 0.4444444 0.6666667 0.8888889
## [2,] 0.1111111 0.3333333 0.5555556 0.7777778 1.0000000</code></pre>
<p><strong>分块矩阵对角换位</strong></p>
<!-- 已知一个矩阵： -->
<!-- $$ -->
<!-- \begin{aligned} -->
<!-- \left[ -->
<!-- \begin{matrix} -->
<!-- 1&0&0&0&0&2 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 4&0&0&0&0&3 \\ -->
<!-- \end{matrix} -->
<!-- \right] -->
<!-- \end{aligned} -->
<!-- $$ -->
<p>已知一个划分为四块的矩阵：</p>
<div class="inline-figure"><img src="images/blockMat.png"></div>
<p>将其转变为：</p>
<!-- $$ -->
<!-- \begin{aligned} -->
<!-- \left[ -->
<!-- \begin{matrix} -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&3&4&0&0 \\ -->
<!-- 0&0&2&1&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- 0&0&0&0&0&0 \\ -->
<!-- \end{matrix} -->
<!-- \right] -->
<!-- \end{aligned} -->
<!-- $$ -->
<div class="inline-figure"><img src="images/blockMat1.png"></div>
<div class="sourceCode" id="cb451"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵</span></span>
<span><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>,nr<span class="op">=</span><span class="fl">6</span>,nc<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">6</span>,<span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="va">m</span><span class="op">[</span><span class="fl">6</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="va">m</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    1    0    0    0    0    2
## [2,]    0    0    0    0    0    0
## [3,]    0    0    0    0    0    0
## [4,]    0    0    0    0    0    0
## [5,]    0    0    0    0    0    0
## [6,]    4    0    0    0    0    3</code></pre>
<div class="sourceCode" id="cb453"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将矩阵均分成4块</span></span>
<span><span class="va">block1</span> <span class="op">=</span> <span class="va">m</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">block2</span> <span class="op">=</span> <span class="va">m</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span>
<span><span class="va">block3</span> <span class="op">=</span> <span class="va">m</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span>
<span><span class="va">block4</span> <span class="op">=</span> <span class="va">m</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span></span>
<span><span class="co">#对按对角线方式互换两块位置，即block1与block3换位位置、</span></span>
<span><span class="co">#block2与block4互换位置，结果保留在m1中</span></span>
<span><span class="va">m1</span> <span class="op">=</span> <span class="va">m</span></span>
<span><span class="va">m1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="va">block3</span></span>
<span><span class="va">m1</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="va">block1</span></span>
<span><span class="va">m1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="va">block4</span></span>
<span><span class="va">m1</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="va">block2</span></span>
<span><span class="va">m1</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    0    0    0    0    0    0
## [2,]    0    0    0    0    0    0
## [3,]    0    0    3    4    0    0
## [4,]    0    0    2    1    0    0
## [5,]    0    0    0    0    0    0
## [6,]    0    0    0    0    0    0</code></pre>
<!-- $$ -->
<!-- I_1(i,j) = \sum_{r=0} ^{2} \sum_{c=0}^{2} I(i-anchor_y+r,j-anchor_x+c) \otimes M(r,c)  -->
<!-- $$ -->
<!-- 怎样从这个公式看出向量运算（取出子矩阵） -->
</div>
</div>
<div id="数组操作" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> 数组操作<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<div id="生成数组" class="section level3" number="2.7.1">
<h3>
<span class="header-section-number">2.7.1</span> 生成数组<a class="anchor" aria-label="anchor" href="#%E7%94%9F%E6%88%90%E6%95%B0%E7%BB%84"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb455"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成一维数组（如同向量）</span></span>
<span><span class="va">ar1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">24</span><span class="op">)</span></span>
<span><span class="va">ar1</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</code></pre>
<div class="sourceCode" id="cb457"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成二维数组（如同矩阵）</span></span>
<span><span class="va">arr2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">24</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">12</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">arr2</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
## [1,]    1    3    5    7    9   11   13   15   17    19    21    23
## [2,]    2    4    6    8   10   12   14   16   18    20    22    24</code></pre>
<div class="sourceCode" id="cb459"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成三维数组</span></span>
<span><span class="va">arr3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">24</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">arr3</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    1    3    5    7
## [2,]    2    4    6    8
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]    9   11   13   15
## [2,]   10   12   14   16
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]   17   19   21   23
## [2,]   18   20   22   24</code></pre>
<p><strong>arr3</strong> 可以被视为包括3个矩阵，每个矩阵都有2行、3列。</p>
</div>
<div id="数组元素的访问" class="section level3" number="2.7.2">
<h3>
<span class="header-section-number">2.7.2</span> 数组元素的访问<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E8%AE%BF%E9%97%AE"><i class="fas fa-link"></i></a>
</h3>
<p>当需要单独提取出数组的每个矩阵时，可以用如下代码：</p>
<div class="sourceCode" id="cb461"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#可以单独提取出arr3的第1个矩阵</span></span>
<span><span class="va">arr3</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    3    5    7
## [2,]    2    4    6    8</code></pre>
<div class="sourceCode" id="cb463"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者单独提取出arr3的第2个矩阵</span></span>
<span><span class="va">arr3</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    9   11   13   15
## [2,]   10   12   14   16</code></pre>
<div class="sourceCode" id="cb465"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#或者单独提取出arr3的第3个矩阵</span></span>
<span><span class="va">arr3</span><span class="op">[</span>,,<span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]   17   19   21   23
## [2,]   18   20   22   24</code></pre>
<p>当需要同时提取出三个矩阵的第1行元素，并按矩阵模式返回结果时，可以使用如下代码：</p>
<div class="sourceCode" id="cb467"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#提取出3个矩阵的第1行元素，且按矩阵模式返回结果：</span></span>
<span><span class="co">#第1、2、3个矩阵的第1行分别位于结果矩阵的第1、2、3列</span></span>
<span><span class="va">arr3</span><span class="op">[</span><span class="fl">1</span>,,<span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    9   17
## [2,]    3   11   19
## [3,]    5   13   21
## [4,]    7   15   23</code></pre>
<p>当需要同时提取出三个矩阵的第1列元素，并按矩阵模式返回结果时，可以使用如下代码：</p>
<div class="sourceCode" id="cb469"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#提取出3个矩阵的第1列元素，且按矩阵模式返回结果：</span></span>
<span><span class="co">#第1、2、3个矩阵的第1列分别位于结果矩阵的第1、2、3列</span></span>
<span><span class="va">arr3</span><span class="op">[</span>,<span class="fl">1</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    9   17
## [2,]    2   10   18</code></pre>
<p>当需要同时提取出三个矩阵的第1行、第1列元素，可以使用如下代码：</p>
<div class="sourceCode" id="cb471"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arr3</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="op">]</span> <span class="co">#返回的三个数依次表示第1、第2、第3个矩阵的第1行、第1列元素</span></span></code></pre></div>
<pre><code>## [1]  1  9 17</code></pre>
<p>当需要同时提取出三个矩阵的1-2行、2-3列元素时，可以使用如下代码：</p>
<div class="sourceCode" id="cb473"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arr3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    3    5
## [2,]    4    6
## 
## , , 2
## 
##      [,1] [,2]
## [1,]   11   13
## [2,]   12   14
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   19   21
## [2,]   20   22</code></pre>
<p>当需要计算三个矩阵的第1行、第1列元素与各自的第2行、第2列元素之差时，可以使用如下代码：</p>
<div class="sourceCode" id="cb475"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arr3</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="op">]</span> <span class="op">-</span> <span class="va">arr3</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>## [1] -3 -3 -3</code></pre>
<p>当需要三个矩阵的行各自同时颠倒顺序时，可以使用如下代码：</p>
<div class="sourceCode" id="cb477"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取arr3的3个矩阵的行数</span></span>
<span><span class="va">rs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">arr3</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co">#将3个矩阵的各自的行颠倒顺序：</span></span>
<span><span class="co">#第1行成为倒数第1行，第2行成为倒数第2行，以此类推</span></span>
<span><span class="va">arr3</span><span class="op">[</span><span class="va">rs</span><span class="op">:</span><span class="fl">1</span>,,<span class="op">]</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    2    4    6    8
## [2,]    1    3    5    7
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]   10   12   14   16
## [2,]    9   11   13   15
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]   18   20   22   24
## [2,]   17   19   21   23</code></pre>
<p>类似地，当需要三个矩阵的列各自同时颠倒顺序时，可以使用如下代码：</p>
<div class="sourceCode" id="cb479"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取arr3的3个矩阵的列数</span></span>
<span><span class="va">cs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">arr3</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co">#将3个矩阵的各自的列颠倒顺序：</span></span>
<span><span class="co">#第1行成为倒数第1行，第2行成为倒数第2行，以此类推</span></span>
<span><span class="va">arr3</span><span class="op">[</span>,<span class="va">cs</span><span class="op">:</span><span class="fl">1</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    7    5    3    1
## [2,]    8    6    4    2
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]   15   13   11    9
## [2,]   16   14   12   10
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]   23   21   19   17
## [2,]   24   22   20   18</code></pre>
<p>当需要同时计算三个矩阵中1-2行、2-3列元素与二阶单位阵的对应元素乘积时，可以使用如下代码：</p>
<div class="sourceCode" id="cb481"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arr3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    3    0
## [2,]    0    6
## 
## , , 2
## 
##      [,1] [,2]
## [1,]   11    0
## [2,]    0   14
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   19    0
## [2,]    0   22</code></pre>
</div>
<div id="数组的运算" class="section level3" number="2.7.3">
<h3>
<span class="header-section-number">2.7.3</span> 数组的运算<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E8%BF%90%E7%AE%97"><i class="fas fa-link"></i></a>
</h3>
<p><strong>数组的加法</strong></p>
<div class="sourceCode" id="cb483"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成数组arr1和arr2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">arr1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">456</span><span class="op">)</span></span>
<span><span class="va">arr2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#计算arr1和arr2的和(结果是三个矩阵的对应元素求和)</span></span>
<span><span class="va">arr1</span> <span class="op">+</span> <span class="va">arr2</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.38 1.14 1.73 0.61
## [2,] 1.00 1.73 0.38 1.18
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.79 1.33 1.44 0.70
## [2,] 0.85 0.67 1.39 1.55
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,] 1.09 1.05 1.07 1.55
## [2,] 0.49 1.24 1.41 1.44</code></pre>
<p><strong>数组的数乘</strong></p>
<div class="sourceCode" id="cb485"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成数组arr</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">arr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">arr</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.29 0.41 0.94 0.53
## [2,] 0.79 0.88 0.05 0.89
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.55 0.96 0.68  0.1
## [2,] 0.46 0.45 0.57  0.9
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.25 0.33 0.89 0.64
## [2,] 0.04 0.95 0.69 0.99</code></pre>
<div class="sourceCode" id="cb487"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#arr的每个元素乘以2</span></span>
<span><span class="fl">2</span><span class="op">*</span><span class="va">arr</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.58 0.82 1.88 1.06
## [2,] 1.58 1.76 0.10 1.78
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,] 1.10 1.92 1.36  0.2
## [2,] 0.92 0.90 1.14  1.8
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.50 0.66 1.78 1.28
## [2,] 0.08 1.90 1.38 1.98</code></pre>
<p><strong>数组元素的比较</strong></p>
<div class="sourceCode" id="cb489"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成数组arr</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">arr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">24</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">arr</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.29 0.41 0.94 0.53
## [2,] 0.79 0.88 0.05 0.89
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.55 0.96 0.68  0.1
## [2,] 0.46 0.45 0.57  0.9
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,] 0.25 0.33 0.89 0.64
## [2,] 0.04 0.95 0.69 0.99</code></pre>
<div class="sourceCode" id="cb491"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#当arr的元素大于0.5时，取值为1，否则取值为0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">arr</span><span class="op">&gt;</span><span class="fl">0.5</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    0    0    1    1
## [2,]    1    1    0    1
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]    1    1    1    0
## [2,]    0    0    1    1
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]    0    0    1    1
## [2,]    0    1    1    1</code></pre>
<div class="sourceCode" id="cb493"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#当arr的元素小于0.3时，取值为不合格，否则取值为合格</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">arr</span><span class="op">&lt;</span><span class="fl">0.3</span>,<span class="st">"不合格"</span>,<span class="st">"合格"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1]     [,2]   [,3]     [,4]  
## [1,] "不合格" "合格" "合格"   "合格"
## [2,] "合格"   "合格" "不合格" "合格"
## 
## , , 2
## 
##      [,1]   [,2]   [,3]   [,4]    
## [1,] "合格" "合格" "合格" "不合格"
## [2,] "合格" "合格" "合格" "合格"  
## 
## , , 3
## 
##      [,1]     [,2]   [,3]   [,4]  
## [1,] "不合格" "合格" "合格" "合格"
## [2,] "不合格" "合格" "合格" "合格"</code></pre>
<div class="sourceCode" id="cb495"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#当arr的元素小于0.3时，取值为不合格，当arr的元素在[0.3,0.6)区间上时，</span></span>
<span><span class="co">#取值为及格，此外取值为良好</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">arr</span><span class="op">&lt;</span><span class="fl">0.3</span>,<span class="st">"不及格"</span>,<span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">arr</span><span class="op">&lt;</span><span class="fl">0.6</span>,<span class="st">"及格"</span>,<span class="st">"良好"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1]     [,2]   [,3]     [,4]  
## [1,] "不及格" "及格" "良好"   "及格"
## [2,] "良好"   "良好" "不及格" "良好"
## 
## , , 2
## 
##      [,1]   [,2]   [,3]   [,4]    
## [1,] "及格" "良好" "良好" "不及格"
## [2,] "及格" "及格" "及格" "良好"  
## 
## , , 3
## 
##      [,1]     [,2]   [,3]   [,4]  
## [1,] "不及格" "及格" "良好" "良好"
## [2,] "不及格" "良好" "良好" "良好"</code></pre>
<p><strong>查询表运算</strong></p>
<div class="sourceCode" id="cb497"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成查询表</span></span>
<span><span class="va">lookuptbl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,each<span class="op">=</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#生成数组</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">arr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">24</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#查看arr中的3个矩阵各自所包含的数</span></span>
<span><span class="va">arr</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]   15   14   10   11
## [2,]   19    3   18    5
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]    4    6   20   17
## [2,]   22    9   23   21
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]   13   16   12    8
## [2,]    1    7   24    2</code></pre>
<div class="sourceCode" id="cb499"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#利用查询表，将arr中属于[1,6]的数对应到1，属于[7-12]的数对应到2，</span></span>
<span><span class="co">#属于[13-18]的数对应到3，属于[19-24]的数对应到4</span></span>
<span><span class="va">lookuptbl</span><span class="op">[</span><span class="va">arr</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  [1] 3 4 3 1 2 3 2 1 1 4 1 2 4 4 3 4 3 1 3 2 2 4 2 1</code></pre>
<div class="sourceCode" id="cb501"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#若需要对应结果也展现为数组arr的形式，可采用如下命令：</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="va">lookuptbl</span><span class="op">[</span><span class="va">arr</span><span class="op">]</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">arr</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4]
## [1,]    3    3    2    2
## [2,]    4    1    3    1
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4]
## [1,]    1    1    4    3
## [2,]    4    2    4    4
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4]
## [1,]    3    3    2    2
## [2,]    1    2    4    1</code></pre>
<p><strong>数组的乘法</strong></p>
<div class="sourceCode" id="cb503"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成数组arr1和arr2</span></span>
<span><span class="va">arr1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">arr2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">12</span><span class="op">:</span><span class="fl">1</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#计算arr1和arr2的乘积（结果是数组的对应元素相乘）</span></span>
<span><span class="va">arr1</span> <span class="op">*</span> <span class="va">arr2</span></span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]   12   30
## [2,]   22   36
## 
## , , 2
## 
##      [,1] [,2]
## [1,]   40   42
## [2,]   42   40
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   36   22
## [2,]   30   12</code></pre>
<p><strong>数组的直方图计算</strong></p>
<div class="sourceCode" id="cb505"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#按指定频率重复生成0,1,2,...,7这8个数：</span></span>
<span><span class="co">#0-7这8个数重复的次数分别为19,25,21,16,8,6,3和2，结果保存在x中</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">7</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>,<span class="fl">25</span>,<span class="fl">21</span>,<span class="fl">16</span>,<span class="fl">8</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#对x随机排序后,转变为10行10列矩阵m1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">m1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">10</span>,nc<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#再对x随机排序后,转变为10行10列矩阵m2</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">124</span><span class="op">)</span></span>
<span><span class="va">m2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">10</span>,nc<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#继续对x随机排序后,转变为10行10列矩阵m3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">125</span><span class="op">)</span></span>
<span><span class="va">m3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">10</span>,nc<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#形成一个3维全0数组</span></span>
<span><span class="va">arr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">0</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#将arr包含的3个10行10列矩阵分别改为m1,m2和m3</span></span>
<span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="va">m1</span></span>
<span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">=</span> <span class="va">m2</span></span>
<span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="va">m3</span></span>
<span></span>
<span><span class="co">#将arr[,,1]中各元素取值划分为8个区间，结果保存在tcut1中。</span></span>
<span><span class="co">#特别留意tcut1中的值表明的是arr[,,1]的各个元素所在的划分区间：</span></span>
<span><span class="co">#1-10个数对应于img.mat的第1列，11-20个数对应于第2列，依次类推。</span></span>
<span><span class="va">tcut1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span>,breaks<span class="op">=</span><span class="fl">0</span><span class="op">:</span><span class="fl">8</span>,right<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#统计arr[,,1]的元素在各个区间的数量（即直方图）</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">tcut1</span><span class="op">)</span></span></code></pre></div>
<pre><code>## tcut1
## [0,1) [1,2) [2,3) [3,4) [4,5) [5,6) [6,7) [7,8) 
##    19    25    21    16     8     6     3     2</code></pre>
<p>类似地，可以计算<strong>arr[,,2]</strong>和<strong>arr[,,3]</strong>的直方图，不过这些直方图都是一维的。进一步，可以依据三维数组的任意两个矩阵形成二维直方图：</p>
<div class="sourceCode" id="cb507"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#将arr[,,2]中各元素取值划分为4个区间，结果保存在tcut1中。</span></span>
<span><span class="co">#特别留意tcut2中的值表明的是arr[,,2]的各个元素所在的划分区间：</span></span>
<span><span class="co">#1-10个数对应于img.mat的第1列，11-20个数对应于第2列，依次类推。</span></span>
<span><span class="va">tcut2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html">cut</a></span><span class="op">(</span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span>,breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">8</span>,by<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,right<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#统计频数（以arr[,,1]的划分区间为行，以arr[,,2]的划分区间为列），即计算直方图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">tcut1</span>, <span class="va">tcut2</span><span class="op">)</span></span></code></pre></div>
<pre><code>##        tcut2
## tcut1   [0,2) [2,4) [4,6) [6,8)
##   [0,1)     9     6     2     2
##   [1,2)    15     7     2     1
##   [2,3)     7    12     2     0
##   [3,4)     6     5     4     1
##   [4,5)     2     4     2     0
##   [5,6)     3     1     1     1
##   [6,7)     2     1     0     0
##   [7,8)     0     1     1     0</code></pre>
</div>
<div id="数组用于图像处理" class="section level3" number="2.7.4">
<h3>
<span class="header-section-number">2.7.4</span> 数组用于图像处理<a class="anchor" aria-label="anchor" href="#%E6%95%B0%E7%BB%84%E7%94%A8%E4%BA%8E%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><i class="fas fa-link"></i></a>
</h3>
<p>在图像处理工具包EBImage中，三维数组用于图像的表示和图像处理：</p>
<div class="sourceCode" id="cb509"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#加载工具包EBImage</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aoles/EBImage">EBImage</a></span><span class="op">)</span></span>
<span><span class="co">#读取图像文件，并将读取结果存入img中</span></span>
<span><span class="va">img</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/io.html">readImage</a></span><span class="op">(</span><span class="st">"images/HappyFish.jpg"</span><span class="op">)</span></span>
<span><span class="co">#查看img的结果</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Formal class 'Image' [package "EBImage"] with 2 slots
##   ..@ .Data    : num [1:259, 1:194, 1:3] 0.996 0.996 0.996 0.996 0.996 ...
##   ..@ colormode: int 2
##   ..$ dim: int [1:3] 259 194 3</code></pre>
<div class="sourceCode" id="cb511"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">img1</span> <span class="op">=</span> <span class="fu">imager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/imager/man/load.image.html">load.image</a></span><span class="op">(</span><span class="st">"images/HappyFish.jpg"</span><span class="op">)</span></span></code></pre></div>
<p>可以看到img的<strong>.Data</strong>属性就是一个三维数组（称之为img的图像数组），其中包含的三个矩阵分别表示图像的红色、绿色和蓝色分量（这样的图像常被称为彩色图）。需要留意的是：这三个矩阵的行数表示的是图像的宽度，而列数则表示的图像的高度，这与OpenCV以矩阵的行表示图像高度、以列表示图像宽度的做法有差异。此外，EBImage工具包也用二维数组（即矩阵）表示图像（这样的图像常被称为灰度图）。</p>
<div class="sourceCode" id="cb512"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取图像的宽度(即三维数组.Data的行数)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 259</code></pre>
<div class="sourceCode" id="cb514"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#获取图像的高度(即三维数组.Data的列数)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 194</code></pre>
<p>通过display函数可以显示图像：</p>
<div class="sourceCode" id="cb516"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-95-1.png" width="384" style="display: block; margin: auto;"></div>
<p><strong>示例</strong></p>
<p>通过EBImage的<strong>Image</strong>函数可以把一个三维数组转变为彩色图像：</p>
<div class="sourceCode" id="cb517"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成全0的三维数组arr</span></span>
<span><span class="va">arr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span><span class="fl">0</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">100</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#将arr第3个矩阵的元素全部更改为1</span></span>
<span><span class="va">arr</span><span class="op">[</span>,,<span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="co">#将arr转变为彩色图像img</span></span>
<span><span class="va">img</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/Image.html">Image</a></span><span class="op">(</span><span class="va">arr</span>,colormode<span class="op">=</span><span class="st">"Color"</span><span class="op">)</span></span>
<span><span class="co">#显示img（为蓝色图像，因为红色分量和绿色分量都为0）</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-96-1.png" width="384" style="display: block; margin: auto;"></div>
<p>类似地，可以把一个矩阵转变为灰度图像：</p>
<div class="sourceCode" id="cb518"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成随机矩阵mat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">mat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span><span class="fl">100</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,nr<span class="op">=</span><span class="fl">100</span>,nc<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span>
<span><span class="co">#将mat转变为灰度图像img1</span></span>
<span><span class="va">img1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/Image.html">Image</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span>
<span><span class="co">#现实img1</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img1</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-97-1.png" width="384" style="display: block; margin: auto;"></div>
<p><strong>示例</strong></p>
<p>采用经验公式<span class="math inline">\(0.39 \times R＋0.5 \times G＋0.11 \times B\)</span>将彩色图像灰度化：</p>
<div class="sourceCode" id="cb519"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取图像文件，读取结果保存在img中</span></span>
<span><span class="va">img</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/io.html">readImage</a></span><span class="op">(</span><span class="st">"images/HappyFish.jpg"</span><span class="op">)</span></span>
<span><span class="co">#利用经验公式将img灰度化，结果保存在img.gray中</span></span>
<span><span class="va">img.gray</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/Image.html">Image</a></span><span class="op">(</span><span class="fl">0.39</span><span class="op">*</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="fl">0.11</span><span class="op">*</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#显示原图像</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-98-1.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb520"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#显示灰度化结果</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.gray</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-98-2.png" width="384" style="display: block; margin: auto;"></div>
<p>通过查询img.gray的结构，可以发现其<strong>.Data</strong>是一个矩阵（即二维数组，称之为img.gray的图像矩阵）：</p>
<div class="sourceCode" id="cb521"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查看img.gray的结构</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">img.gray</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Formal class 'Image' [package "EBImage"] with 2 slots
##   ..@ .Data    : num [1:259, 1:194] 0.995 0.995 0.995 0.995 0.995 ...
##   ..@ colormode: int 0
##   ..$ dim: int [1:2] 259 194</code></pre>
<p>对灰度图像，可以进行二值化和反色操作：</p>
<div class="sourceCode" id="cb523"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#图像二值化</span></span>
<span><span class="va">img.binary</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/Image.html">Image</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">img.gray</span><span class="op">@</span><span class="va">.Data</span><span class="op">&gt;</span><span class="fl">0.5</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.binary</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-100-1.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb524"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#图像反色</span></span>
<span><span class="va">img.revert</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/Image.html">Image</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">img.binary</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.revert</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-100-2.png" width="384" style="display: block; margin: auto;"></div>
<p><strong>示例</strong></p>
<p>可以实现一些图像处理效果：</p>
<div class="sourceCode" id="cb525"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取图像处理文件，读取结果保存在img中</span></span>
<span><span class="va">img</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/io.html">readImage</a></span><span class="op">(</span><span class="st">"images/HappyFish.jpg"</span><span class="op">)</span></span>
<span><span class="co">#显示img</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-1.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb526"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#增强红色</span></span>
<span><span class="va">img.enhancered</span> <span class="op">=</span> <span class="va">img</span></span>
<span><span class="va">img.enhancered</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="va">img.enhancered</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">1</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.enhancered</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-2.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb527"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#增强绿色</span></span>
<span><span class="va">img.enhancegreen</span> <span class="op">=</span> <span class="va">img</span></span>
<span><span class="va">img.enhancegreen</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="va">img.enhancegreen</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,,<span class="fl">2</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.enhancegreen</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-3.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb528"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#图像上下翻转</span></span>
<span><span class="va">img.flip</span> <span class="op">=</span> <span class="va">img</span></span>
<span><span class="va">cs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="co">#获取三维数组的列数（对应于图像的高度）</span></span>
<span><span class="va">img.flip</span><span class="op">@</span><span class="va">.Data</span> <span class="op">=</span> <span class="va">img.flip</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span>,<span class="va">cs</span><span class="op">:</span><span class="fl">1</span>,<span class="op">]</span> <span class="co">#将3个矩阵的列倒序</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.flip</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-4.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb529"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#图像左右翻转</span></span>
<span><span class="va">img.flop</span> <span class="op">=</span> <span class="va">img</span></span>
<span><span class="va">rs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co">#获取三维数组的行数（对应于图像的宽度）</span></span>
<span><span class="va">img.flop</span><span class="op">@</span><span class="va">.Data</span> <span class="op">=</span> <span class="va">img.flop</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="va">rs</span><span class="op">:</span><span class="fl">1</span>,,<span class="op">]</span> <span class="co">#将3个矩阵的行倒序</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.flop</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-5.png" width="384" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb530"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#图像浮雕效果</span></span>
<span><span class="va">wd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">img</span><span class="op">@</span><span class="va">.Data</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span> <span class="co">#获取三维数组.Data的行数和列数</span></span>
<span><span class="va">img.emboss</span> <span class="op">=</span> <span class="va">img.gray</span></span>
<span><span class="va">img.emboss</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>,<span class="fl">2</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span></span>
<span>  <span class="va">img.emboss</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span>,<span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">-</span></span>
<span>  <span class="va">img.emboss</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="va">wd</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="fl">3</span><span class="op">:</span><span class="va">wd</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">+</span><span class="fl">0.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">img.emboss</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-101-6.png" width="384" style="display: block; margin: auto;"></div>
<p>在这里，实现图像浮雕效果的公式为：</p>
<p><span class="math display">\[
newP_{ij} = P_{i-1,j-1} - P_{i+1,j+1} + 0.5
\]</span></p>
<p>从公式可以得知，浮雕效果图中第<span class="math inline">\(i\)</span>行、第<span class="math inline">\(j\)</span>列元素的值为源图像中第<span class="math inline">\(i\)</span>行、第<span class="math inline">\(j\)</span>列元素的左上角元素减去其右下角元素之后再加上0.5。这个计算思路，也可以转变为如下计算过程：</p>
<ul>
<li>构造一个3行3列矩阵<span class="math inline">\(M\)</span>：</li>
</ul>
<p><span class="math display">\[
\begin{aligned}
M = \left[
\begin{matrix}
1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; -1
\end{matrix}
\right]
\end{aligned}
\]</span></p>
<ul>
<li>将M的中心点（位于M的第2行、第2列的点）与图像矩阵的每个点（暂忽略边缘点）对齐，则M会覆盖住图像矩阵的9个元素，而后计算图像矩阵这9个元素与M的9个元素的对应乘积并求和，最后加上0.5。</li>
</ul>
<div class="sourceCode" id="cb531"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成矩阵M</span></span>
<span><span class="va">M</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">M</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">M</span><span class="op">[</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span></span>
<span><span class="co">#将img.gray赋值给res</span></span>
<span><span class="va">res</span> <span class="op">=</span> <span class="va">img.gray</span></span>
<span><span class="co">#遍历图像矩阵的每个点（暂时忽略边缘点）</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="op">(</span><span class="va">wd</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="co">#计算res的图像矩阵.Data第i行、第j列点的值：</span></span>
<span>    <span class="co">#先计算M覆盖住的图像矩阵的元素与M对应元素乘积：</span></span>
<span>    <span class="co">#img.gray@.Data[(i-1):(i+1),(j-1):(j+1)] * M</span></span>
<span>    <span class="co">#再求和：sum(img.gray@.Data[(i-1):(i+1),(j-1):(j+1)] * M)</span></span>
<span>    <span class="co">#最后加上0.5</span></span>
<span>    <span class="va">res</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">img.gray</span><span class="op">@</span><span class="va">.Data</span><span class="op">[</span><span class="op">(</span><span class="va">i</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">i</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,<span class="op">(</span><span class="va">j</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="op">(</span><span class="va">j</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">]</span> <span class="op">*</span> <span class="va">M</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.5</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#显示结果</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/EBImage/man/display.html">display</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-102-1.png" width="384" style="display: block; margin: auto;"></div>
<p>这个计算过程在图像处理中常被称为卷积运算，常见于OpenCV中的滤波等操作：</p>
<div class="sourceCode" id="cb532"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#加载工具包</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ROpenCV</span><span class="op">)</span></span>
<span><span class="co">#按灰度图模式读取图像文件，读取结果保存在img1中</span></span>
<span><span class="va">img1</span> <span class="op">=</span> <span class="fu">cv_imread</span><span class="op">(</span><span class="st">"images/HappyFish.jpg"</span>,<span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#生成矩阵M（称其为滤波器）</span></span>
<span><span class="va">M_mat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">M_mat</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">M_mat</span><span class="op">[</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span></span>
<span><span class="va">M</span> <span class="op">=</span> <span class="fu">Mat</span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span>,<span class="va">CV_8U</span><span class="op">)</span></span>
<span><span class="va">M</span><span class="op">$</span><span class="fu">r2cv</span><span class="op">(</span><span class="va">M_mat</span><span class="op">)</span></span>
<span><span class="co">#对img1进行滤波操作，结果保存在res1中</span></span>
<span><span class="va">res1</span> <span class="op">=</span> <span class="fu">Mat</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">cv_filter2D</span><span class="op">(</span><span class="va">img1</span>,<span class="va">res1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="va">M</span>,delta<span class="op">=</span><span class="fl">128</span><span class="op">)</span></span>
<span><span class="co">#现实滤波结果</span></span>
<span><span class="fu">cv_imshow</span><span class="op">(</span><span class="st">"结果"</span>,<span class="va">res1</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-104-1.png" width="480" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="文件操作" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> 文件操作<a class="anchor" aria-label="anchor" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><i class="fas fa-link"></i></a>
</h2>
<p><strong>获取当前工作目录</strong></p>
<div class="sourceCode" id="cb533"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "F:/myMaterial/myBooks/ROpenCVTutorial - gitbook"</code></pre>
<p><strong>设置当前工作目录</strong></p>
<div class="sourceCode" id="cb535"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#以下代码将d盘根目录下的123文件夹设置为工作目录</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"d:/123"</span><span class="op">)</span></span></code></pre></div>
<p><strong>读写文件</strong></p>
<div class="sourceCode" id="cb536"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取当前工作目录中data文件夹下的123.csv文件</span></span>
<span><span class="va">dat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/123.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#将dat数据存为当前工作目录中data文件夹下的123.new.csv文件</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">dat</span>,file<span class="op">=</span><span class="st">"data/123.new.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="函数封装" class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> 函数封装<a class="anchor" aria-label="anchor" href="#%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><i class="fas fa-link"></i></a>
</h2>
<p>以下代码是一个模拟实验：指定一个不包含重复元素的向量vec，模拟从vec中有放回随机抽样N次，然后统计每次抽取到元素数量在vec元素中的占比。</p>
<div class="sourceCode" id="cb537"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#指定向量vec</span></span>
<span><span class="va">vec</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span></span>
<span><span class="co">#确定模拟实验次数N</span></span>
<span><span class="va">N</span> <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="co">#初始化每次模拟实验的统计结果（都为0）</span></span>
<span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"numeric"</span>,<span class="va">N</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">N</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co">#从vec中有放回抽样（样本容量为vec的元素个数）</span></span>
<span>  <span class="va">sap</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">vec</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vec</span><span class="op">)</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co">#统计抽取到的元素在vec元素中的占比</span></span>
<span>  <span class="va">res</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sap</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">vec</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vec</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#计算模拟实验的均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 0.63554</code></pre>
<p>对于以上模拟实验，可以把每次实验的代码封装成一个函数：</p>
<div class="sourceCode" id="cb539"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#形成simExper函数，参数为vec；</span></span>
<span><span class="co">#该函数的功能是：</span></span>
<span><span class="co">#从vec中有放回随机抽样1次，然后统计该次抽取到元素数量在vec元素中的占比。</span></span>
<span><span class="va">simExper</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">vec</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co">#从vec中有放回抽样（样本容量为vec的元素个数）</span></span>
<span>  <span class="va">sap</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="va">vec</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vec</span><span class="op">)</span>,replace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co">#统计抽取到的元素在vec元素中的占比</span></span>
<span>  <span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">sap</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">vec</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vec</span><span class="op">)</span></span>
<span>  <span class="co">#返回统计结果</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>如此封装之后，可以调用该函数N次，进而实现N次抽样统计计算：</p>
<div class="sourceCode" id="cb540"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#指定向量vec</span></span>
<span><span class="va">vec</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span></span>
<span><span class="co">#确定模拟实验次数N</span></span>
<span><span class="va">N</span> <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="co">#初始化每次模拟实验的统计结果（都为0）</span></span>
<span><span class="va">res</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"numeric"</span>,<span class="va">N</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">N</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">res</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu">simExper</span><span class="op">(</span><span class="va">vec</span><span class="op">)</span> <span class="co">#调用simExper函数</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#计算模拟实验的均值</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 0.6329</code></pre>
</div>
<div id="基础绘图" class="section level2" number="2.10">
<h2>
<span class="header-section-number">2.10</span> 基础绘图<a class="anchor" aria-label="anchor" href="#%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE"><i class="fas fa-link"></i></a>
</h2>
<p>常见绘图操作有：</p>
<p><strong>绘制散点图</strong></p>
<div class="sourceCode" id="cb542"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成点的横坐标向量</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="co">#依据点的横坐标向量生成点的纵坐标向量</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="co">#依据点的横、纵坐标绘制散点图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-111-1.png" width="672"></div>
<p><strong>绘制线图</strong></p>
<div class="sourceCode" id="cb543"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成点的横坐标向量</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">10</span></span>
<span><span class="co">#依据点的横坐标向量生成点的纵坐标向量</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="co">#依据点的横、纵坐标绘制通过各点的线图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,type<span class="op">=</span><span class="st">"l"</span><span class="op">)</span></span>
<span><span class="co">#额外标注各个点</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,cex<span class="op">=</span><span class="fl">1.2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-112-1.png" width="672"></div>
<p><strong>绘制矩形</strong></p>
<div class="sourceCode" id="cb544"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#生成空图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span>,asp<span class="op">=</span><span class="fl">1</span>,type<span class="op">=</span><span class="st">"n"</span>,xlab<span class="op">=</span><span class="st">""</span>,ylab<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#绘制矩形</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html">rect</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#绘制红色填充矩形</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html">rect</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,col<span class="op">=</span><span class="st">"red"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-113-1.png" width="672"></div>
<p><strong>绘制多边形</strong></p>
<div class="sourceCode" id="cb545"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#多边形顶点的横坐标</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.71</span>,<span class="fl">0.00</span>,<span class="fl">0.71</span>,<span class="fl">0.00</span><span class="op">)</span></span>
<span><span class="co">#多边形顶点的纵坐标</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.71</span>,<span class="fl">0.00</span>,<span class="fl">0.71</span>,<span class="fl">1.41</span><span class="op">)</span></span>
<span><span class="co">#生成空图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,<span class="op">-</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,asp<span class="op">=</span><span class="fl">1</span>,type<span class="op">=</span><span class="st">"n"</span>,xlab<span class="op">=</span><span class="st">""</span>,ylab<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#绘制蓝色填充多边形</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,col<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-114-1.png" width="672"></div>
<p><strong>绘制圆/椭圆</strong></p>
<div class="sourceCode" id="cb546"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#在[0,2*pi]区间取360个角度，存入alpha中</span></span>
<span><span class="va">alpha</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">*</span><span class="va">pi</span>,length.out<span class="op">=</span><span class="fl">360</span><span class="op">)</span></span>
<span><span class="co">#依据圆的参数方程，计算半径为2的圆上对应于每个角度的横坐标x和纵坐标y</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span></span>
<span><span class="co">#依据x,y确定的点，绘制圆</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,asp<span class="op">=</span><span class="fl">1</span>,type<span class="op">=</span><span class="st">'l'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-115-1.png" width="672"></div>
<div class="sourceCode" id="cb547"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#在[0,2*pi]区间取360个角度，存入alpha中</span></span>
<span><span class="va">alpha</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">*</span><span class="va">pi</span>,length.out<span class="op">=</span><span class="fl">360</span><span class="op">)</span></span>
<span><span class="co">#依据圆的参数方程，计算长轴半径为6，短轴半径为3的椭圆上对应于每个角度的</span></span>
<span><span class="co">#横坐标x和纵坐标y</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">6</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">cos</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">3</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span><span class="op">(</span><span class="va">alpha</span><span class="op">)</span></span>
<span><span class="co">#依据x,y确定的点，绘制圆</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,asp<span class="op">=</span><span class="fl">1</span>,type<span class="op">=</span><span class="st">'l'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-116-1.png" width="672"></div>
<p><strong>绘制多个物体</strong></p>
<div class="sourceCode" id="cb548"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#绘制简易的房子</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">11</span>,type<span class="op">=</span><span class="st">"n"</span>,xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">11</span><span class="op">)</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">11</span><span class="op">)</span>,</span>
<span>     xlab<span class="op">=</span><span class="st">""</span>,ylab<span class="op">=</span><span class="st">""</span>,xaxt<span class="op">=</span><span class="st">"n"</span>,yaxt<span class="op">=</span><span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html">rect</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">10</span>,<span class="fl">8</span>,col<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html">rect</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">4</span>,<span class="fl">6</span>,col<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html">rect</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">8</span>,<span class="fl">6</span>,col<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span>,<span class="fl">5.5</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">8</span>,<span class="fl">10</span>,<span class="fl">8</span><span class="op">)</span>,col<span class="op">=</span><span class="st">"green"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-117-1.png" width="672"></div>
<p><strong>绘制/计算直方图</strong></p>
<p>要介绍清楚，以便后面的图像直方图能快速应用（比如频数、密度值）</p>
<div class="sourceCode" id="cb549"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#读取文件</span></span>
<span><span class="va">computer.sale</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/computer.sale.csv"</span>,stringsAsFactors <span class="op">=</span> <span class="cn">F</span>,fileEncoding <span class="op">=</span> <span class="st">"gbk"</span><span class="op">)</span></span>
<span><span class="co">#绘制销售量的直方图</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">computer.sale</span><span class="op">$</span><span class="va">销售量</span>,xlab<span class="op">=</span><span class="st">"销售量"</span>,main<span class="op">=</span><span class="st">"计算机销售量直方图"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-118-1.png" width="672"></div>
<p>hist函数并不是只展示图像，其内部包含着相应的直方图数据：</p>
<div class="sourceCode" id="cb550"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#绘制直方图，且将相应计算结果保存在ht中</span></span>
<span><span class="va">ht</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">computer.sale</span><span class="op">$</span><span class="va">销售量</span>,xlab<span class="op">=</span><span class="st">"销售量"</span>,main<span class="op">=</span><span class="st">"计算机销售量直方图"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="02-rbasis_files/figure-html/unnamed-chunk-119-1.png" width="672"></div>
<div class="sourceCode" id="cb551"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#查看ht</span></span>
<span><span class="va">ht</span></span></code></pre></div>
<pre><code>## $breaks
##  [1] 140 150 160 170 180 190 200 210 220 230 240
## 
## $counts
##  [1]  5 10 15 28 20 16 11  6  4  5
## 
## $density
##  [1] 0.004166667 0.008333333 0.012500000 0.023333333 0.016666667 0.013333333
##  [7] 0.009166667 0.005000000 0.003333333 0.004166667
## 
## $mids
##  [1] 145 155 165 175 185 195 205 215 225 235
## 
## $xname
## [1] "computer.sale$销售量"
## 
## $equidist
## [1] TRUE
## 
## attr(,"class")
## [1] "histogram"</code></pre>
<p>可以看到：</p>
<ul>
<li>breaks元素包含了直方图各个区间的端点</li>
<li>counts元素包含了各个区间中的元素个数</li>
</ul>
</div>
<div id="按位运算" class="section level2" number="2.11">
<h2>
<span class="header-section-number">2.11</span> 按位运算<a class="anchor" aria-label="anchor" href="#%E6%8C%89%E4%BD%8D%E8%BF%90%E7%AE%97"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb553"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对9和8进行按位与运算</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwAnd</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb555"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对9和8进行按位或运算</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwOr</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb557"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对9和8进行按位异或运算</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwXor</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb559"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#对9按位取反运算</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwNot</a></span><span class="op">(</span><span class="fl">9</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -10</code></pre>
<p>无符号数二进制操作（以8位无符号数为例）</p>
<div class="sourceCode" id="cb561"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#定义可以将位无符号数0-255转变为二进制数串的函数dec2bin</span></span>
<span><span class="va">dec2bin</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">num</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rawConversion.html">intToBits</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwNot</a></span><span class="op">(</span><span class="fl">255</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] -256</code></pre>
<div class="sourceCode" id="cb563"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dec2bin</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwNot</a></span><span class="op">(</span><span class="fl">255</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb565"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#定义可以将二进制数串转变为十进制数的函数bin2dec</span></span>
<span><span class="va">bin2dec</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">bin</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strtoi.html">strtoi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">bin</span>, collapse<span class="op">=</span><span class="st">""</span><span class="op">)</span>,base<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#对于8位无符号整数，0和255互为按位取反结果</span></span>
<span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwNot</a></span><span class="op">(</span><span class="fl">255</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb567"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwNot</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 255</code></pre>
<div class="sourceCode" id="cb569"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#十进制数9与8的按位运算</span></span>
<span><span class="co">#1、按位与</span></span>
<span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu">dec2bin</span><span class="op">(</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb571"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#2、按位或</span></span>
<span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span> <span class="op">|</span> <span class="fu">dec2bin</span><span class="op">(</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb573"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#3、按位异或</span></span>
<span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html">xor</a></span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span>,<span class="fu">dec2bin</span><span class="op">(</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb575"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#十进制数9按位取反运算（取8位）</span></span>
<span><span class="fu">bin2dec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="fu">dec2bin</span><span class="op">(</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 246</code></pre>
<div class="sourceCode" id="cb577"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#</span></span>
<span><span class="co">#strtoi(paste(rev(as.integer(intToBits(5) &amp; intToBits(-2))), collapse=""),base=2)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/bitwise.html">bitwAnd</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
</div>
<div id="并行运算" class="section level2" number="2.12">
<h2>
<span class="header-section-number">2.12</span> 并行运算<a class="anchor" aria-label="anchor" href="#%E5%B9%B6%E8%A1%8C%E8%BF%90%E7%AE%97"><i class="fas fa-link"></i></a>
</h2>
<p>R的一些工具包提供了并行处理能力，其中包括：OpenBLAS，Intel MKL，NVIDIA cuBLAS、parallel、foreach、SupR等。以下是通过foreach实现并行处理的例子：</p>
<div class="sourceCode" id="cb579"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#foreach</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RevolutionAnalytics/foreach">foreach</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RevolutionAnalytics/doparallel">doParallel</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#分配核心数，这里获取了物理核心数</span></span>
<span><span class="va">cores</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html">detectCores</a></span><span class="op">(</span>logic<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">cl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html">makeCluster</a></span><span class="op">(</span><span class="va">cores</span><span class="op">)</span></span>
<span><span class="co">#开启并行运算模式</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/doParallel/man/registerDoParallel.html">registerDoParallel</a></span><span class="op">(</span><span class="va">cl</span>,cores <span class="op">=</span> <span class="va">cores</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#循环20次，每次都进行10万次求和运算，并统计最终消耗的时间</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span><span class="op">(</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/foreach/man/foreach.html">foreach</a></span><span class="op">(</span>i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,.combine<span class="op">=</span><span class="st">'rbind'</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/foreach/man/foreach.html">%dopar%</a></span> <span class="op">{</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100000</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="va">s</span><span class="op">=</span><span class="va">i</span><span class="op">+</span><span class="va">j</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>##    user  system elapsed 
##    0.02    0.00    0.10</code></pre>
<div class="sourceCode" id="cb581"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#停止并行运算模式</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/doParallel/man/registerDoParallel.html">stopImplicitCluster</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html">stopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></code></pre></div>
<p>通过bench工具包，可以大致比较并行模式和非并行模式下同等量循环操作的性能差异：</p>
<div class="sourceCode" id="cb582"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#加载性能测试工具包</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://bench.r-lib.org/">bench</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#并行模式下的循环操作</span></span>
<span><span class="va">paral.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/foreach/man/foreach.html">foreach</a></span><span class="op">(</span>i<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,.combine<span class="op">=</span><span class="st">'rbind'</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/foreach/man/foreach.html">%dopar%</a></span> <span class="op">{</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100000</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="va">i</span><span class="op">+</span><span class="va">j</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#非并行模式下的循环操作</span></span>
<span><span class="va">serial.fun</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100000</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="va">i</span><span class="op">+</span><span class="va">j</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#分配核心数，这里获取了物理核心数</span></span>
<span><span class="va">cores</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html">detectCores</a></span><span class="op">(</span>logic<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">cl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html">makeCluster</a></span><span class="op">(</span><span class="va">cores</span><span class="op">)</span></span>
<span><span class="co">#开启并行运算模式</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/doParallel/man/registerDoParallel.html">registerDoParallel</a></span><span class="op">(</span><span class="va">cl</span>,cores <span class="op">=</span> <span class="va">cores</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#对两种模式进行性能测试</span></span>
<span><span class="va">bch</span> <span class="op">=</span> <span class="fu"><a href="http://bench.r-lib.org/reference/mark.html">mark</a></span><span class="op">(</span></span>
<span>  <span class="fu">paral.fun</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="fu">serial.fun</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#停止并行运算模式</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/doParallel/man/registerDoParallel.html">stopImplicitCluster</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html">stopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#查看性能测试结果，包含：</span></span>
<span><span class="co">#运行时间的最小值、中位数，每秒迭代数量、内存分配量和每秒垃圾回收次数</span></span>
<span><span class="va">bch</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 6
##   expression        min   median `itr/sec` mem_alloc `gc/sec`
##   &lt;bch:expr&gt;   &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;
## 1 paral.fun()    20.4ms   21.5ms      46.2   962.5KB     2.10
## 2 serial.fun()   39.7ms   41.2ms      24.1    21.2KB     0</code></pre>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="intro.html"><span class="header-section-number">1</span> 简介</a></div>
<div class="next"><a href="imagebasis.html"><span class="header-section-number">3</span> OpenCV中的图像矩阵类（Mat）</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#RBasis"><span class="header-section-number">2</span> R基础</a></li>
<li><a class="nav-link" href="#r%E7%9A%84%E5%AE%89%E8%A3%85"><span class="header-section-number">2.1</span> R的安装</a></li>
<li>
<a class="nav-link" href="#%E5%90%91%E9%87%8F%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.2</span> 向量操作</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E7%94%9F%E6%88%90%E5%90%91%E9%87%8F"><span class="header-section-number">2.2.1</span> 生成向量</a></li>
<li><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E5%90%91%E9%87%8F%E7%9A%84%E5%85%83%E7%B4%A0"><span class="header-section-number">2.2.2</span> 读写向量的元素</a></li>
<li><a class="nav-link" href="#%E5%90%91%E9%87%8F%E7%9A%84%E8%BF%90%E7%AE%97"><span class="header-section-number">2.2.3</span> 向量的运算</a></li>
</ul>
</li>
<li><a class="nav-link" href="#factors%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.3</span> Factors操作</a></li>
<li><a class="nav-link" href="#%E5%88%97%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.4</span> 列表操作</a></li>
<li><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A1%86%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.5</span> 数据框操作</a></li>
<li>
<a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.6</span> 矩阵操作</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E7%94%9F%E6%88%90%E7%9F%A9%E9%98%B5"><span class="header-section-number">2.6.1</span> 生成矩阵</a></li>
<li><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E7%9F%A9%E9%98%B5%E7%9A%84%E5%85%83%E7%B4%A0"><span class="header-section-number">2.6.2</span> 读写矩阵的元素</a></li>
<li><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E7%9A%84%E8%BF%90%E7%AE%97"><span class="header-section-number">2.6.3</span> 矩阵的运算</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.7</span> 数组操作</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E7%94%9F%E6%88%90%E6%95%B0%E7%BB%84"><span class="header-section-number">2.7.1</span> 生成数组</a></li>
<li><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="header-section-number">2.7.2</span> 数组元素的访问</a></li>
<li><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E8%BF%90%E7%AE%97"><span class="header-section-number">2.7.3</span> 数组的运算</a></li>
<li><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E7%94%A8%E4%BA%8E%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="header-section-number">2.7.4</span> 数组用于图像处理</a></li>
</ul>
</li>
<li><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="header-section-number">2.8</span> 文件操作</a></li>
<li><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="header-section-number">2.9</span> 函数封装</a></li>
<li><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE"><span class="header-section-number">2.10</span> 基础绘图</a></li>
<li><a class="nav-link" href="#%E6%8C%89%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="header-section-number">2.11</span> 按位运算</a></li>
<li><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E8%BF%90%E7%AE%97"><span class="header-section-number">2.12</span> 并行运算</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/Judy-ZQ/ROpenCV-Tutorial/blob/master/02-rbasis.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/Judy-ZQ/ROpenCV-Tutorial/edit/master/02-rbasis.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>ROpenCV — R与OpenCV之间的桥梁</strong>" was written by zpy. It was last built on 2024-11-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
